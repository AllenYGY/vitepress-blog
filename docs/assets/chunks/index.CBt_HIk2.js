import{by as rr,aq as nr}from"../app.vYNUME8O.js";function En(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const o in n)if(o!=="default"&&!(o in t)){const i=Object.getOwnPropertyDescriptor(n,o);i&&Object.defineProperty(t,o,i.get?i:{enumerable:!0,get:()=>n[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var G={exports:{}};(function(t,e){try{t.querySelector(":scope body")}catch{["querySelector","querySelectorAll"].forEach(function(n){var o=e[n];e[n]=function(i){if(/(^|,)\s*:scope/.test(i)){var a=this.id;this.id="ID_"+Date.now(),i=i.replace(/((^|,)\s*):scope/g,"$1#"+this.id);var c=t[n](i);return this.id=a,c}else return o.call(this,i)}})}})(window.document,Element.prototype);const Nn={},In=Object.freeze(Object.defineProperty({__proto__:null,default:Nn},Symbol.toStringTag,{value:"Module"})),ir=rr(In);var rt=Object.prototype.hasOwnProperty,or=Object.prototype.toString,xe=Object.defineProperty,Ee=Object.getOwnPropertyDescriptor,Ne=function(e){return typeof Array.isArray=="function"?Array.isArray(e):or.call(e)==="[object Array]"},Ie=function(e){if(!e||or.call(e)!=="[object Object]")return!1;var r=rt.call(e,"constructor"),n=e.constructor&&e.constructor.prototype&&rt.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!r&&!n)return!1;var o;for(o in e);return typeof o>"u"||rt.call(e,o)},$e=function(e,r){xe&&r.name==="__proto__"?xe(e,r.name,{enumerable:!0,configurable:!0,value:r.newValue,writable:!0}):e[r.name]=r.newValue},Ae=function(e,r){if(r==="__proto__")if(rt.call(e,r)){if(Ee)return Ee(e,r).value}else return;return e[r]},T=function t(){var e,r,n,o,i,a,c=arguments[0],u=1,h=arguments.length,s=!1;for(typeof c=="boolean"&&(s=c,c=arguments[1]||{},u=2),(c==null||typeof c!="object"&&typeof c!="function")&&(c={});u<h;++u)if(e=arguments[u],e!=null)for(r in e)n=Ae(c,r),o=Ae(e,r),c!==o&&(s&&o&&(Ie(o)||(i=Ne(o)))?(i?(i=!1,a=n&&Ne(n)?n:[]):a=n&&Ie(n)?n:{},$e(c,{name:r,newValue:t(s,a,o)})):typeof o<"u"&&$e(c,{name:r,newValue:o}));return c},Se=1/0,ar=9007199254740991,$n=17976931348623157e292,Me=NaN,An="[object Function]",Sn="[object GeneratorFunction]",Mn="[object Symbol]",Tn=/^\s+|\s+$/g,kn=/^[-+]0x[0-9a-f]+$/i,On=/^0b[01]+$/i,Ln=/^0o[0-7]+$/i,Pn=/^(?:0|[1-9]\d*)$/,_n=parseInt;function Hn(t){return function(e){return e==null?void 0:e[t]}}var Cn=Object.prototype,sr=Cn.toString,Rn=Math.ceil,Fn=Math.max;function jn(t,e,r,n){for(var o=-1,i=Fn(Rn((e-t)/(r||1)),0),a=Array(i);i--;)a[++o]=t,t+=r;return a}function Dn(t){return function(e,r,n){return n&&typeof n!="number"&&zn(e,r,n)&&(r=n=void 0),e=Et(e),r===void 0?(r=e,e=0):r=Et(r),n=n===void 0?e<r?1:-1:Et(n),jn(e,r,n)}}var qn=Hn("length");function Yn(t,e){return e=e??ar,!!e&&(typeof t=="number"||Pn.test(t))&&t>-1&&t%1==0&&t<e}function zn(t,e,r){if(!it(r))return!1;var n=typeof e;return(n=="number"?Xn(r)&&Yn(e,r.length):n=="string"&&e in r)?Gn(r[e],t):!1}function Gn(t,e){return t===e||t!==t&&e!==e}function Xn(t){return t!=null&&Bn(qn(t))&&!ur(t)}function ur(t){var e=it(t)?sr.call(t):"";return e==An||e==Sn}function Bn(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=ar}function it(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function Un(t){return!!t&&typeof t=="object"}function Wn(t){return typeof t=="symbol"||Un(t)&&sr.call(t)==Mn}function Et(t){if(!t)return t===0?t:0;if(t=Zn(t),t===Se||t===-Se){var e=t<0?-1:1;return e*$n}return t===t?t:0}function Zn(t){if(typeof t=="number")return t;if(Wn(t))return Me;if(it(t)){var e=ur(t.valueOf)?t.valueOf():t;t=it(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(Tn,"");var r=On.test(t);return r||Ln.test(t)?_n(t.slice(2),r?2:8):kn.test(t)?Me:+t}var Kn=Dn(),Vn=Kn,Qn=Vn,Ft=function(e,r,n){var o=(r-e)/(n-1),i=Qn(e,r,o);return i.length==n?i:i.concat(r)},Jn=Ft,ti=function(e,r,n){return Jn(e,r,n).map(function(o){return Math.pow(10,o)})},ei=Math.log10||function(t){return Math.log(t)*Math.LOG10E},ri=window.d3,ot={COLORS:["steelblue","red","#05b378","orange","#4040e8","yellow","brown","magenta","cyan"].map(function(t){return ri.hsl(t)}),DEFAULT_WIDTH:550,DEFAULT_HEIGHT:350,TIP_X_EPS:1};ot.DEFAULT_ITERATIONS=null;ot.MAX_ITERATIONS=ot.DEFAULT_WIDTH*4;var ut=ot,ni=Ft,ii=ti,Te=ei,oi=ut,X={isValidNumber:function(t){return typeof t=="number"&&!isNaN(t)},space:function(t,e,r){var n=e[0],o=e[1];return t.options.xAxis.type==="log"?ii(Te(n),Te(o),r):ni(n,o,r)},getterSetter:function(t,e){var r=this;this[e]=function(n){return arguments.length?(t[e]=n,r):t[e]}},sgn:function(t){return t<0?-1:t>0?1:0},color:function(t,e){return t.color||oi.COLORS[e]}},jt=ai;function ai(t,e,r){return e<r?t<e?e:t>r?r:t:t<r?r:t>e?e:t}var _={},lt={exports:{}},F={},lr={EOF:0,DELIMITER:1,NUMBER:2,STRING:3,SYMBOL:4},C=lr,si={n:`
`,f:"\f",r:"\r",t:"	",v:"\v","'":"'",'"':'"'},ui={",":!0,"(":!0,")":!0,"[":!0,"]":!0,";":!0,"~":!0,"!":!0,"+":!0,"-":!0,"*":!0,"/":!0,"%":!0,"^":!0,"**":!0,"|":!0,"&":!0,"^|":!0,"=":!0,":":!0,"?":!0,"||":!0,"&&":!0,xor:!0,"==":!0,"!=":!0,"===":!0,"!==":!0,"<":!0,">":!0,">=":!0,"<=":!0,">>>":!0,"<<":!0,">>":!0};function L(t){return t>="0"&&t<="9"}function cr(t){return t>="a"&&t<="z"||t>="A"&&t<="Z"||t==="$"||t==="_"}function li(t){return t===" "||t==="\r"||t==="	"||t===`
`||t==="\v"||t==="Â "}function Nt(t){return ui[t]}function ci(t){return t==="'"||t==='"'}function H(){}H.prototype.throwError=function(t,e){e=typeof e>"u"?this.index:e;var r=new Error(t+" at index "+e);throw r.index=e,r.description=t,r};H.prototype.lex=function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){for(;li(this.peek());)this.consume();var e=this.peek(),r=e+this.peek(1),n=r+this.peek(2);Nt(n)?(this.tokens.push({type:C.DELIMITER,value:n}),this.consume(),this.consume(),this.consume()):Nt(r)?(this.tokens.push({type:C.DELIMITER,value:r}),this.consume(),this.consume()):Nt(e)?(this.tokens.push({type:C.DELIMITER,value:e}),this.consume()):L(e)||e==="."&&L(this.peek(1))?this.tokens.push({type:C.NUMBER,value:this.readNumber()}):ci(e)?this.tokens.push({type:C.STRING,value:this.readString()}):cr(e)?this.tokens.push({type:C.SYMBOL,value:this.readIdentifier()}):this.throwError("unexpected character "+e)}return this.tokens.push({type:C.EOF}),this.tokens};H.prototype.peek=function(t){if(t=t||0,!(this.index+t>=this.text.length))return this.text.charAt(this.index+t)};H.prototype.consume=function(){var t=this.peek();return this.index+=1,t};H.prototype.readNumber=function(){var t="";if(this.peek()===".")t+=this.consume(),L(this.peek())||this.throwError("number expected");else{for(;L(this.peek());)t+=this.consume();this.peek()==="."&&(t+=this.consume())}for(;L(this.peek());)t+=this.consume();if(this.peek()==="e"||this.peek()==="E")for(t+=this.consume(),L(this.peek())||this.peek()==="+"||this.peek()==="-"||this.throwError(),(this.peek()==="+"||this.peek()==="-")&&(t+=this.consume()),L(this.peek())||this.throwError("number expected");L(this.peek());)t+=this.consume();return t};H.prototype.readIdentifier=function(){for(var t="";cr(this.peek())||L(this.peek());)t+=this.consume();return t};H.prototype.readString=function(){for(var t=this.consume(),e="",r;;){var n=this.consume();if(n||this.throwError("string is not closed"),r){if(n==="u"){var o=this.text.substring(this.index+1,this.index+5);o.match(/[\da-f]{4}/i)||this.throwError("invalid unicode escape"),this.index+=4,e+=String.fromCharCode(parseInt(o,16))}else{var i=si[n];i?e+=i:e+=n}r=!1}else{if(n===t)break;n==="\\"?r=!0:e+=n}}return e};var fr=H;function hr(){}hr.prototype.type="Node";var k=hr,fi=k,hi={number:!0,string:!0,boolean:!0,undefined:!0,null:!0};function Dt(t,e){if(!hi[e])throw Error("unsupported type '"+e+"'");this.value=t,this.valueType=e}Dt.prototype=Object.create(fi.prototype);Dt.prototype.type="ConstantNode";var pr=Dt,pi=k;function qt(t,e){this.op=t,this.args=e||[]}qt.prototype=Object.create(pi.prototype);qt.prototype.type="OperatorNode";var vr=qt,vi=k;function Yt(t,e){this.op=t,this.argument=e}Yt.prototype=Object.create(vi.prototype);Yt.prototype.type="UnaryNode";var dr=Yt,di=k;function zt(t){this.name=t}zt.prototype=Object.create(di.prototype);zt.prototype.type="SymbolNode";var mr=zt,mi=k;function Gt(t,e){this.name=t,this.args=e}Gt.prototype=Object.create(mi.prototype);Gt.prototype.type="FunctionNode";var yr=Gt,yi=k;function Xt(t){this.nodes=t}Xt.prototype=Object.create(yi.prototype);Xt.prototype.type="ArrayNode";var gr=Xt,gi=k;function Bt(t,e,r){this.condition=t,this.trueExpr=e,this.falseExpr=r}Bt.prototype=Object.create(gi.prototype);Bt.prototype.type="ConditionalNode";var wr=Bt,wi=k;function Ut(t,e){this.name=t,this.expr=e}Ut.prototype=Object.create(wi.prototype);Ut.prototype.type="AssignmentNode";var br=Ut,bi=k;function Wt(t){this.blocks=t}Wt.prototype=Object.create(bi.prototype);Wt.prototype.type="BlockNode";var xr=Wt,R=lr,xi=fr,Zt=pr,M=vr,Ei=dr,Er=mr,Ni=yr,Ii=gr,$i=wr,Ai=br,Si=xr;function E(){this.lexer=new xi,this.tokens=null}E.prototype.current=function(){return this.tokens[0]};E.prototype.next=function(){return this.tokens[1]};E.prototype.peek=function(){if(this.tokens.length){for(var t=this.tokens[0],e=0;e<arguments.length;e+=1)if(t.value===arguments[e])return!0}};E.prototype.consume=function(t){return this.tokens.shift()};E.prototype.expect=function(t){if(!this.peek(t))throw Error("expected "+t);return this.consume()};E.prototype.isEOF=function(){return this.current().type===R.EOF};E.prototype.parse=function(t){return this.tokens=this.lexer.lex(t),this.program()};E.prototype.program=function(){for(var t=[];!this.isEOF();)t.push(this.assignment()),this.peek(";")&&this.consume();return this.end(),new Si(t)};E.prototype.assignment=function(){var t=this.ternary();return t instanceof Er&&this.peek("=")?(this.consume(),new Ai(t.name,this.assignment())):t};E.prototype.ternary=function(){var t=this.logicalOR();if(this.peek("?")){this.consume();var e=this.ternary();this.expect(":");var r=this.ternary();return new $i(t,e,r)}return t};E.prototype.logicalOR=function(){var t=this.logicalXOR();if(this.peek("||")){var e=this.consume(),r=this.logicalOR();return new M(e.value,[t,r])}return t};E.prototype.logicalXOR=function(){var t=this.logicalAND();if(this.current().value==="xor"){var e=this.consume(),r=this.logicalXOR();return new M(e.value,[t,r])}return t};E.prototype.logicalAND=function(){var t=this.bitwiseOR();if(this.peek("&&")){var e=this.consume(),r=this.logicalAND();return new M(e.value,[t,r])}return t};E.prototype.bitwiseOR=function(){var t=this.bitwiseXOR();if(this.peek("|")){var e=this.consume(),r=this.bitwiseOR();return new M(e.value,[t,r])}return t};E.prototype.bitwiseXOR=function(){var t=this.bitwiseAND();if(this.peek("^|")){var e=this.consume(),r=this.bitwiseXOR();return new M(e.value,[t,r])}return t};E.prototype.bitwiseAND=function(){var t=this.relational();if(this.peek("&")){var e=this.consume(),r=this.bitwiseAND();return new M(e.value,[t,r])}return t};E.prototype.relational=function(){var t=this.shift();if(this.peek("==","===","!=","!==",">=","<=",">","<")){var e=this.consume(),r=this.shift();return new M(e.value,[t,r])}return t};E.prototype.shift=function(){var t=this.additive();if(this.peek(">>","<<",">>>")){var e=this.consume(),r=this.shift();return new M(e.value,[t,r])}return t};E.prototype.additive=function(){for(var t=this.multiplicative();this.peek("+","-");){var e=this.consume();t=new M(e.value,[t,this.multiplicative()])}return t};E.prototype.multiplicative=function(){for(var t,e,r=this.unary();this.peek("*","/","%");)t=this.consume(),r=new M(t.value,[r,this.unary()]);return this.current().type===R.SYMBOL||this.peek("(")||!(r.type instanceof Zt)&&this.current().type===R.NUMBER?(e=this.multiplicative(),new M("*",[r,e])):r};E.prototype.unary=function(){if(this.peek("-","+","~")){var t=this.consume(),e=this.unary();return new Ei(t.value,e)}return this.pow()};E.prototype.pow=function(){var t=this.factorial();if(this.peek("^","**")){var e=this.consume(),r=this.unary();return new M(e.value,[t,r])}return t};E.prototype.factorial=function(){var t=this.symbol();if(this.peek("!")){var e=this.consume();return new M(e.value,[t])}return t};E.prototype.symbol=function(){var t=this.current();if(t.type===R.SYMBOL){var e=this.consume(),r=this.functionCall(e);return r}return this.string()};E.prototype.functionCall=function(t){var e=t.value;if(this.peek("(")){this.consume();for(var r=[];!this.peek(")")&&!this.isEOF();)r.push(this.assignment()),this.peek(",")&&this.consume();return this.expect(")"),new Ni(e,r)}return new Er(e)};E.prototype.string=function(){return this.current().type===R.STRING?new Zt(this.consume().value,"string"):this.array()};E.prototype.array=function(){if(this.peek("[")){this.consume();for(var t=[];!this.peek("]")&&!this.isEOF();)t.push(this.assignment()),this.peek(",")&&this.consume();return this.expect("]"),new Ii(t)}return this.number()};E.prototype.number=function(){var t=this.current();return t.type===R.NUMBER?new Zt(this.consume().value,"number"):this.parentheses()};E.prototype.parentheses=function(){var t=this.current();if(t.value==="("){this.consume();var e=this.assignment();return this.expect(")"),e}return this.end()};E.prototype.end=function(){var t=this.current();if(t.type!==R.EOF)throw Error("unexpected end of expression")};var Mi=E,Ti={ArrayNode:gr,AssignmentNode:br,BlockNode:xr,ConditionalNode:wr,ConstantNode:pr,FunctionNode:yr,Node:k,OperatorNode:vr,SymbolNode:mr,UnaryNode:dr};F.Lexer=fr;F.Parser=Mi;F.nodeTypes=Ti;var ki=function(t){var e=this,r=[];this.rawify(this.options.rawArrayExpressionElements,function(){r=t.nodes.map(function(o){return e.next(o)})});var n="["+r.join(",")+"]";return this.options.raw?n:this.options.factory+"("+n+")"},Oi=function(t){return'scope["'+t.name+'"] = '+this.next(t.expr)},Li=function(t){var e="!!("+this.next(t.condition)+")",r=this.next(t.trueExpr),n=this.next(t.falseExpr);return"("+e+" ? ("+r+") : ("+n+") )"},Pi=function(t){return this.options.raw?t.value:this.options.factory+"("+t.value+")"},Kt={exports:{}},_i=F.nodeTypes.SymbolNode,Nr=function(t){return"$$mathCodegen.functionProxy("+this.next(new _i(t.name))+', "'+t.name+'")'};Kt.exports=function(t){var e=this,r=Nr.call(this,t),n=[];return this.rawify(this.options.rawCallExpressionElements,function(){n=t.args.map(function(o){return e.next(o)})}),r+"("+n.join(", ")+")"};Kt.exports.functionProxy=Nr;var Hi=Kt.exports,Ci={"+":"add","-":"sub","*":"mul","/":"div","^":"pow","%":"mod","!":"factorial","|":"bitwiseOR","^|":"bitwiseXOR","&":"bitwiseAND","||":"logicalOR",xor:"logicalXOR","&&":"logicalAND","<":"lessThan",">":"greaterThan","<=":"lessEqualThan",">=":"greaterEqualThan","===":"strictlyEqual","==":"equal","!==":"strictlyNotEqual","!=":"notEqual",">>":"shiftRight","<<":"shiftLeft",">>>":"unsignedRightShift"},Ri=Ci,Fi=function(t){if(this.options.raw)return["("+this.next(t.args[0]),t.op,this.next(t.args[1])+")"].join(" ");var e=Ri[t.op];if(!e)throw TypeError("unidentified operator");return this.FunctionNode({name:e,args:t.args})},ji=function(t){var e=t.name;return'$$mathCodegen.getProperty("'+e+'", scope, ns)'},Di={"+":"positive","-":"negative","~":"oneComplement"},ke=Di,qi=function(t){if(this.options.raw)return t.op+this.next(t.argument);if(!(t.op in ke))throw new SyntaxError(t.op+" not implemented");var e=ke[t.op];return this.FunctionNode({name:e,args:[t.argument]})},Ir=T,Yi={ArrayNode:ki,AssignmentNode:Oi,ConditionalNode:Li,ConstantNode:Pi,FunctionNode:Hi,OperatorNode:Fi,SymbolNode:ji,UnaryNode:qi},ct=function(t,e){this.owner=t,this.options=Ir({factory:"ns.factory",raw:!1,rawArrayExpressionElements:!0,rawCallExpressionElements:!1,applyFactoryToScope:!1},e)};Ir(ct.prototype,Yi);ct.prototype.next=function(t){if(!(t.type in this))throw new TypeError("the node type "+t.type+" is not implemented");return this[t.type](t)};ct.prototype.rawify=function(t,e){var r=this.options.raw;t&&(this.options.raw=!0),e(),t&&(this.options.raw=r)};var zi=ct,Gi=F.Parser,Xi=zi,Bi=T;function ft(t,e){this.statements=[],this.defs=e||{},this.interpreter=new Xi(this,t)}ft.prototype.setDefs=function(t){return this.defs=Bi(this.defs,t),this};ft.prototype.compile=function(t){var e=this;if(!t||!(typeof t=="object"||typeof t=="function"))throw TypeError("namespace must be an object");if(typeof t.factory!="function")throw TypeError("namespace.factory must be a function");this.defs.ns=t,this.defs.$$mathCodegen={getProperty:function(a,c,u){function h(s){return e.interpreter.options.applyFactoryToScope&&typeof s!="function"?u.factory(s):s}if(a in c)return h(c[a]);if(a in u)return h(u[a]);throw SyntaxError('symbol "'+a+'" is undefined')},functionProxy:function(a,c){if(typeof a!="function")throw SyntaxError('symbol "'+c+'" must be a function');return a}},this.defs.$$processScope=this.defs.$$processScope||function(){};var r=Object.keys(this.defs).map(function(a){return"var "+a+' = defs["'+a+'"]'});if(!this.statements.length)throw Error("there are no statements saved in this generator, make sure you parse an expression before compiling it");this.statements[this.statements.length-1]="return "+this.statements[this.statements.length-1];var n=this.statements.join(";"),o=r.join(`
`)+`
`+["return {","  eval: function (scope) {","    scope = scope || {}","    $$processScope(scope)","    "+n,"  },","  code: '"+n+"'","}"].join(`
`),i=new Function("defs",o);return i(this.defs)};ft.prototype.parse=function(t){var e=this,r=new Gi().parse(t);return this.statements=r.blocks.map(function(n){return e.interpreter.next(n)}),this};var Ui=ft,Wi=Ui;function at(t){return typeof t=="object"&&typeof t.lo=="number"&&typeof t.hi=="number"}function b(t){return t.lo>t.hi}function ht(t){return t.lo===-1/0&&t.hi===1/0}function Y(t){return t.lo===t.hi}function B(t){return Vt(t,0)}function Vt(t,e){return b(t)?!1:t.lo<=e&&e<=t.hi}function $r(t,e){return b(t)?!0:!b(e)&&e.lo<=t.lo&&t.hi<=e.hi}function pt(t,e){return b(t)||b(e)?!1:t.lo<=e.lo&&e.lo<=t.hi||e.lo<=t.lo&&t.lo<=e.hi}const Zi=Object.freeze(Object.defineProperty({__proto__:null,hasInterval:$r,hasValue:Vt,intervalsOverlap:pt,isEmpty:b,isInterval:at,isSingleton:Y,isWhole:ht,zeroIn:B},Symbol.toStringTag,{value:"Module"}));var Qt={exports:{}};Qt.exports;(function(t){var e=!1;if(typeof Float64Array<"u"){var r=new Float64Array(1),n=new Uint32Array(r.buffer);if(r[0]=1,e=!0,n[1]===1072693248){let i=function(u,h){return n[0]=u,n[1]=h,r[0]},a=function(u){return r[0]=u,n[0]},c=function(u){return r[0]=u,n[1]};t.exports=function(h){return r[0]=h,[n[0],n[1]]},t.exports.pack=i,t.exports.lo=a,t.exports.hi=c}else if(n[0]===1072693248){let i=function(u,h){return n[1]=u,n[0]=h,r[0]},a=function(u){return r[0]=u,n[1]},c=function(u){return r[0]=u,n[0]};t.exports=function(h){return r[0]=h,[n[1],n[0]]},t.exports.pack=i,t.exports.lo=a,t.exports.hi=c}else e=!1}if(!e){let i=function(u,h){return o.writeUInt32LE(u,0,!0),o.writeUInt32LE(h,4,!0),o.readDoubleLE(0,!0)},a=function(u){return o.writeDoubleLE(u,0,!0),o.readUInt32LE(0,!0)},c=function(u){return o.writeDoubleLE(u,0,!0),o.readUInt32LE(4,!0)};var o=new Buffer(8);t.exports=function(h){return o.writeDoubleLE(h,0,!0),[o.readUInt32LE(0,!0),o.readUInt32LE(4,!0)]},t.exports.pack=i,t.exports.lo=a,t.exports.hi=c}t.exports.sign=function(i){return t.exports.hi(i)>>>31},t.exports.exponent=function(i){var a=t.exports.hi(i);return(a<<1>>>21)-1023},t.exports.fraction=function(i){var a=t.exports.lo(i),c=t.exports.hi(i),u=c&(1<<20)-1;return c&2146435072&&(u+=1<<20),[a,u]},t.exports.denormalized=function(i){var a=t.exports.hi(i);return!(a&2146435072)}})(Qt);var Ki=Qt.exports,It=Ki,Oe=Math.pow(2,-1074),Le=-1>>>0,Vi=Qi;function Qi(t,e){if(isNaN(t)||isNaN(e))return NaN;if(t===e)return t;if(t===0)return e<0?-Oe:Oe;var r=It.hi(t),n=It.lo(t);return e>t==t>0?n===Le?(r+=1,n=0):n+=1:n===0?(n=Le,r-=1):n-=1,It.pack(n,r)}const Ar=nr(Vi);function Ji(t){return t}function Ct(t){return t===1/0?t:Ar(t,-1/0)}function Rt(t){return t===-1/0?t:Ar(t,1/0)}function Pe(t){return t<0?Math.ceil(t):Math.floor(t)}const D={prev:Ct,next:Rt},l={safePrev:Ct,safeNext:Rt,prev(t){return D.prev(t)},next(t){return D.next(t)},addLo(t,e){return l.prev(t+e)},addHi(t,e){return l.next(t+e)},subLo(t,e){return l.prev(t-e)},subHi(t,e){return l.next(t-e)},mulLo(t,e){return l.prev(t*e)},mulHi(t,e){return l.next(t*e)},divLo(t,e){return l.prev(t/e)},divHi(t,e){return l.next(t/e)},intLo(t){return Pe(l.prev(t))},intHi(t){return Pe(l.next(t))},logLo(t){return l.prev(Math.log(t))},logHi(t){return l.next(Math.log(t))},expLo(t){return l.prev(Math.exp(t))},expHi(t){return l.next(Math.exp(t))},sinLo(t){return l.prev(Math.sin(t))},sinHi(t){return l.next(Math.sin(t))},cosLo(t){return l.prev(Math.cos(t))},cosHi(t){return l.next(Math.cos(t))},tanLo(t){return l.prev(Math.tan(t))},tanHi(t){return l.next(Math.tan(t))},asinLo(t){return l.prev(Math.asin(t))},asinHi(t){return l.next(Math.asin(t))},acosLo(t){return l.prev(Math.acos(t))},acosHi(t){return l.next(Math.acos(t))},atanLo(t){return l.prev(Math.atan(t))},atanHi(t){return l.next(Math.atan(t))},sinhLo(t){return l.prev(Math.sinh(t))},sinhHi(t){return l.next(Math.sinh(t))},coshLo(t){return l.prev(Math.cosh(t))},coshHi(t){return l.next(Math.cosh(t))},tanhLo(t){return l.prev(Math.tanh(t))},tanhHi(t){return l.next(Math.tanh(t))},powLo(t,e){if(e%1!==0)return l.prev(Math.pow(t,e));let r=(e&1)===1?t:1;for(e>>=1;e>0;)t=l.mulLo(t,t),(e&1)===1&&(r=l.mulLo(t,r)),e>>=1;return r},powHi(t,e){if(e%1!==0)return l.next(Math.pow(t,e));let r=(e&1)===1?t:1;for(e>>=1;e>0;)t=l.mulHi(t,t),(e&1)===1&&(r=l.mulHi(t,r)),e>>=1;return r},sqrtLo(t){return l.prev(Math.sqrt(t))},sqrtHi(t){return l.next(Math.sqrt(t))},disable(){D.next=D.prev=Ji},enable(){D.next=Rt,D.prev=Ct}};class K{constructor(e,r){if(this.lo=0,this.hi=0,!(this instanceof K))return console.log("calling with new"),console.log(e,r),new K(e,r);if(typeof e<"u"&&typeof r<"u"){if(at(e)){if(!Y(e))throw new TypeError("Interval: interval `lo` must be a singleton");e=e.lo}if(at(r)){if(!Y(r))throw TypeError("Interval: interval `hi` must be a singleton");r=r.hi}}else{if(typeof e<"u")return Array.isArray(e)?new g(e[0],e[1]):new g(e,e);e=r=0}this.assign(e,r)}singleton(e){return this.set(e,e)}bounded(e,r){return this.set(l.prev(e),l.next(r))}boundedSingleton(e){return this.bounded(e,e)}set(e,r){return this.lo=e,this.hi=r,this}assign(e,r){if(typeof e!="number"||typeof r!="number")throw TypeError("Interval#assign: arguments must be numbers");return isNaN(e)||isNaN(r)||e>r?this.setEmpty():this.set(e,r)}setEmpty(){return this.set(Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY)}setWhole(){return this.set(Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY)}open(e,r){return this.assign(l.safeNext(e),l.safePrev(r))}halfOpenLeft(e,r){return this.assign(l.safeNext(e),r)}halfOpenRight(e,r){return this.assign(e,l.safePrev(r))}toArray(){return[this.lo,this.hi]}clone(){return new g().set(this.lo,this.hi)}}function to(t){function e(){for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];return new(Function.prototype.bind.apply(t,[null].concat(n)))}return e.prototype=t.prototype,e}const g=to(K);g.factory=g;const J=(3373259426+273688/(1<<21))/(1<<30),tt=(3373259426+273689/(1<<21))/(1<<30),w={PI_LOW:J,PI_HIGH:tt,PI_HALF_LOW:J/2,PI_HALF_HIGH:tt/2,PI_TWICE_LOW:J*2,PI_TWICE_HIGH:tt*2,get E(){return new g(l.prev(Math.E),l.next(Math.E))},get PI(){return new g(J,tt)},get PI_HALF(){return new g(w.PI_HALF_LOW,w.PI_HALF_HIGH)},get PI_TWICE(){return new g(w.PI_TWICE_LOW,w.PI_TWICE_HIGH)},get ZERO(){return new g(0)},get ONE(){return new g(1)},get WHOLE(){return new g().setWhole()},get EMPTY(){return new g().setEmpty()}};function Sr(t,e){return b(t)?b(e):!b(e)&&t.lo===e.lo&&t.hi===e.hi}const eo=1e-7;function st(t,e){if(!t)throw new Error(e||"assertion failed")}function _e(t,e){if(!isFinite(t))return st(t===e,`[Infinity] expected ${t} to be ${e}`);st(Math.abs(t-e)<eo,`expected ${t} to be close to ${e}`)}function Jt(t,e){t=Array.isArray(t)?t:t.toArray(),e=Array.isArray(e)?e:e.toArray(),_e(t[0],e[0]),_e(t[1],e[1])}function Mr(t,e){Jt(t,e),t=Array.isArray(t)?t:t.toArray(),e=Array.isArray(e)?e:e.toArray(),st(t[0]<=e[0],`${t[0]} should be less/equal than ${e[0]}`),st(e[1]<=t[1],`${e[1]} should be less/equal than ${t[1]}`)}function Tr(t,e){return b(t)?!b(e):b(e)||t.hi<e.lo||t.lo>e.hi}function te(t,e){return b(t)||b(e)?!1:t.hi<e.lo}const kr=te;function ee(t,e){return b(t)||b(e)?!1:t.lo>e.hi}const Or=ee;function re(t,e){return b(t)||b(e)?!1:t.hi<=e.lo}const Lr=re;function ne(t,e){return b(t)||b(e)?!1:t.lo>=e.hi}const Pr=ne,ro=Object.freeze(Object.defineProperty({__proto__:null,almostEqual:Jt,assertIncludes:Mr,equal:Sr,geq:Pr,greaterEqualThan:ne,greaterThan:ee,gt:Or,leq:Lr,lessEqualThan:re,lessThan:te,lt:kr,notEqual:Tr},Symbol.toStringTag,{value:"Module"}));function no(t,e){const r=t.lo,n=t.hi,o=e.lo,i=e.hi,a=new g;return n<0?i<0?(a.lo=l.divLo(n,o),a.hi=l.divHi(r,i)):(a.lo=l.divLo(r,o),a.hi=l.divHi(n,i)):r<0?i<0?(a.lo=l.divLo(n,i),a.hi=l.divHi(r,i)):(a.lo=l.divLo(r,o),a.hi=l.divHi(n,o)):i<0?(a.lo=l.divLo(n,i),a.hi=l.divHi(r,o)):(a.lo=l.divLo(r,i),a.hi=l.divHi(n,o)),a}function io(t,e){return t.lo===0&&t.hi===0?t:B(t)?w.WHOLE:t.hi<0?new g(Number.NEGATIVE_INFINITY,l.divHi(t.hi,e)):new g(l.divLo(t.lo,e),Number.POSITIVE_INFINITY)}function oo(t,e){return t.lo===0&&t.hi===0?t:B(t)?w.WHOLE:t.hi<0?new g(l.divLo(t.hi,e),Number.POSITIVE_INFINITY):new g(Number.NEGATIVE_INFINITY,l.divHi(t.lo,e))}function ao(t){return t.lo===0&&t.hi===0?t:w.WHOLE}function _r(t,e){return new g(l.addLo(t.lo,e.lo),l.addHi(t.hi,e.hi))}function ie(t,e){return new g(l.subLo(t.lo,e.hi),l.subHi(t.hi,e.lo))}const U=ie;function oe(t,e){if(b(t)||b(e))return w.EMPTY;const r=t.lo,n=t.hi,o=e.lo,i=e.hi,a=new g;return r<0?n>0?o<0?i>0?(a.lo=Math.min(l.mulLo(r,i),l.mulLo(n,o)),a.hi=Math.max(l.mulHi(r,o),l.mulHi(n,i))):(a.lo=l.mulLo(n,o),a.hi=l.mulHi(r,o)):i>0?(a.lo=l.mulLo(r,i),a.hi=l.mulHi(n,i)):(a.lo=0,a.hi=0):o<0?i>0?(a.lo=l.mulLo(r,i),a.hi=l.mulHi(r,o)):(a.lo=l.mulLo(n,i),a.hi=l.mulHi(r,o)):i>0?(a.lo=l.mulLo(r,i),a.hi=l.mulHi(n,o)):(a.lo=0,a.hi=0):n>0?o<0?i>0?(a.lo=l.mulLo(n,o),a.hi=l.mulHi(n,i)):(a.lo=l.mulLo(n,o),a.hi=l.mulHi(r,i)):i>0?(a.lo=l.mulLo(r,o),a.hi=l.mulHi(n,i)):(a.lo=0,a.hi=0):(a.lo=0,a.hi=0),a}const ae=oe;function se(t,e){return b(t)||b(e)?w.EMPTY:B(e)?e.lo!==0?e.hi!==0?ao(t):oo(t,e.lo):e.hi!==0?io(t,e.hi):w.EMPTY:no(t,e)}const vt=se;function Hr(t){return new g(t.lo,t.hi)}function dt(t){return new g(-t.hi,-t.lo)}const so=Object.freeze(Object.defineProperty({__proto__:null,add:_r,div:vt,divide:se,mul:ae,multiply:oe,negative:dt,positive:Hr,sub:U,subtract:ie},Symbol.toStringTag,{value:"Module"}));function mt(t,e){if(b(t)||b(e))return w.EMPTY;const r=t.lo<0?e.lo:e.hi;let n=t.lo/r;return n<0?n=Math.ceil(n):n=Math.floor(n),U(t,ae(e,new g(n)))}function ue(t){return b(t)?w.EMPTY:B(t)?t.lo!==0?t.hi!==0?w.WHOLE:new g(Number.NEGATIVE_INFINITY,l.divHi(1,t.lo)):t.hi!==0?new g(l.divLo(1,t.hi),Number.POSITIVE_INFINITY):w.EMPTY:new g(l.divLo(1,t.hi),l.divHi(1,t.lo))}function le(t,e){if(b(t))return w.EMPTY;if(typeof e=="object"){if(!Y(e))return w.EMPTY;e=e.lo}if(e===0)return t.lo===0&&t.hi===0?w.EMPTY:w.ONE;if(e<0)return le(ue(t),-e);if(Number.isSafeInteger(e))if(t.hi<0){const r=l.powLo(-t.hi,e),n=l.powHi(-t.lo,e);return(e&1)===1?new g(-n,-r):new g(r,n)}else return t.lo<0?(e&1)===1?new g(-l.powLo(-t.lo,e),l.powHi(t.hi,e)):new g(0,l.powHi(Math.max(-t.lo,t.hi),e)):new g(l.powLo(t.lo,e),l.powHi(t.hi,e));else return console.warn("power is not an integer, you should use nth-root instead, returning an empty interval"),w.EMPTY}function Cr(t){return ce(t,2)}function ce(t,e){if(b(t)||e<0)return w.EMPTY;if(typeof e=="object"){if(!Y(e))return w.EMPTY;e=e.lo}const r=1/e;if(t.hi<0){if(Number.isSafeInteger(e)&&(e&1)===1){const n=l.powHi(-t.lo,r),o=l.powLo(-t.hi,r);return new g(-n,-o)}return w.EMPTY}else if(t.lo<0){const n=l.powHi(t.hi,r);if(Number.isSafeInteger(e)&&(e&1)===1){const o=-l.powHi(-t.lo,r);return new g(o,n)}return new g(0,n)}else return new g(l.powLo(t.lo,r),l.powHi(t.hi,r))}const uo=Object.freeze(Object.defineProperty({__proto__:null,fmod:mt,multiplicativeInverse:ue,nthRoot:ce,pow:le,sqrt:Cr},Symbol.toStringTag,{value:"Module"}));function Rr(t){return b(t)?w.EMPTY:new g(l.expLo(t.lo),l.expHi(t.hi))}function j(t){if(b(t))return w.EMPTY;const e=t.lo<=0?Number.NEGATIVE_INFINITY:l.logLo(t.lo);return new g(e,l.logHi(t.hi))}const Fr=j,fe=j(new g(10,10));function jr(t){return b(t)?w.EMPTY:vt(j(t),fe)}const he=j(new g(2,2));function Dr(t){return b(t)?w.EMPTY:vt(j(t),he)}function qr(t,e){const r=b(t),n=b(e);return r&&n?w.EMPTY:r?e.clone():n?t.clone():new g(Math.min(t.lo,e.lo),Math.max(t.hi,e.hi))}function Yr(t,e){if(b(t)||b(e))return w.EMPTY;const r=Math.max(t.lo,e.lo),n=Math.min(t.hi,e.hi);return r<=n?new g(r,n):w.EMPTY}function zr(t,e){if(!pt(t,e))throw Error("Interval#union: intervals do not overlap");return new g(Math.min(t.lo,e.lo),Math.max(t.hi,e.hi))}function Gr(t,e){if(b(t)||ht(e))return w.EMPTY;if(pt(t,e)){if(t.lo<e.lo&&e.hi<t.hi)throw Error("Interval.difference: difference creates multiple intervals");return e.lo<=t.lo&&e.hi===1/0||e.hi>=t.hi&&e.lo===-1/0?w.EMPTY:e.lo<=t.lo?new g().halfOpenLeft(e.hi,t.hi):new g().halfOpenRight(t.lo,e.lo)}return t.clone()}function yt(t){return b(t)?0:l.subHi(t.hi,t.lo)}const Xr=yt;function Br(t){return b(t)||ht(t)?w.EMPTY:t.lo>=0?t.clone():t.hi<=0?dt(t):new g(0,Math.max(-t.lo,t.hi))}function Ur(t,e){const r=b(t),n=b(e);return r&&n?w.EMPTY:r?e.clone():n?t.clone():new g(Math.max(t.lo,e.lo),Math.max(t.hi,e.hi))}function Wr(t,e){const r=b(t),n=b(e);return r&&n?w.EMPTY:r?e.clone():n?t.clone():new g(Math.min(t.lo,e.lo),Math.min(t.hi,e.hi))}function Zr(t){return new g().set(t.lo,t.hi)}const lo=Object.freeze(Object.defineProperty({__proto__:null,LOG_EXP_10:fe,LOG_EXP_2:he,abs:Br,clone:Zr,difference:Gr,exp:Rr,hull:qr,intersection:Yr,ln:Fr,log:j,log10:jr,log2:Dr,max:Ur,min:Wr,union:zr,wid:Xr,width:yt},Symbol.toStringTag,{value:"Module"}));function pe(t){return!isFinite(t.lo)&&t.lo===t.hi}function Kr(t){if(t.lo<0)if(t.lo===-1/0)t.lo=0,t.hi=1/0;else{const e=Math.ceil(-t.lo/w.PI_TWICE_LOW);t.lo+=w.PI_TWICE_LOW*e,t.hi+=w.PI_TWICE_LOW*e}return t}function gt(t){if(b(t)||pe(t))return w.EMPTY;const e=new g().set(t.lo,t.hi);Kr(e);const r=w.PI_TWICE,n=mt(e,r);if(yt(n)>=r.lo)return new g(-1,1);if(n.lo>=w.PI_HIGH){const u=gt(U(n,w.PI));return dt(u)}const o=n.lo,i=n.hi,a=l.cosLo(i),c=l.cosHi(o);return i<=w.PI_LOW?new g(a,c):i<=r.lo?new g(-1,Math.max(a,c)):new g(-1,1)}function Vr(t){return b(t)||pe(t)?w.EMPTY:gt(U(t,w.PI_HALF))}function Qr(t){if(b(t)||pe(t))return w.EMPTY;const e=new g().set(t.lo,t.hi);Kr(e);const r=w.PI;let n=mt(e,r);return n.lo>=w.PI_HALF_LOW&&(n=U(n,r)),n.lo<=-w.PI_HALF_LOW||n.hi>=w.PI_HALF_LOW?w.WHOLE:new g(l.tanLo(n.lo),l.tanHi(n.hi))}function Jr(t){if(b(t)||t.hi<-1||t.lo>1)return w.EMPTY;const e=t.lo<=-1?-w.PI_HALF_HIGH:l.asinLo(t.lo),r=t.hi>=1?w.PI_HALF_HIGH:l.asinHi(t.hi);return new g(e,r)}function tn(t){if(b(t)||t.hi<-1||t.lo>1)return w.EMPTY;const e=t.hi>=1?0:l.acosLo(t.hi),r=t.lo<=-1?w.PI_HIGH:l.acosHi(t.lo);return new g(e,r)}function en(t){return b(t)?w.EMPTY:new g(l.atanLo(t.lo),l.atanHi(t.hi))}function rn(t){return b(t)?w.EMPTY:new g(l.sinhLo(t.lo),l.sinhHi(t.hi))}function nn(t){return b(t)?w.EMPTY:t.hi<0?new g(l.coshLo(t.hi),l.coshHi(t.lo)):t.lo>=0?new g(l.coshLo(t.lo),l.coshHi(t.hi)):new g(1,l.coshHi(-t.lo>t.hi?t.lo:t.hi))}function on(t){return b(t)?w.EMPTY:new g(l.tanhLo(t.lo),l.tanhHi(t.hi))}const co=Object.freeze(Object.defineProperty({__proto__:null,acos:tn,asin:Jr,atan:en,cos:gt,cosh:nn,sin:Vr,sinh:rn,tan:Qr,tanh:on},Symbol.toStringTag,{value:"Module"})),fo=Object.assign(g,w,l,lo,Zi,ro,so,uo,co,{round:l}),ho=Object.freeze(Object.defineProperty({__proto__:null,Interval:K,LOG_EXP_10:fe,LOG_EXP_2:he,abs:Br,acos:tn,add:_r,almostEqual:Jt,asin:Jr,assertIncludes:Mr,atan:en,clone:Zr,constants:w,cos:gt,cosh:nn,default:fo,difference:Gr,div:vt,divide:se,equal:Sr,exp:Rr,fmod:mt,geq:Pr,greaterEqualThan:ne,greaterThan:ee,gt:Or,hasInterval:$r,hasValue:Vt,hull:qr,intersection:Yr,intervalsOverlap:pt,isEmpty:b,isInterval:at,isSingleton:Y,isWhole:ht,leq:Lr,lessEqualThan:re,lessThan:te,ln:Fr,log:j,log10:jr,log2:Dr,lt:kr,max:Ur,min:Wr,mul:ae,multiplicativeInverse:ue,multiply:oe,negative:dt,notEqual:Tr,nthRoot:ce,positive:Hr,pow:le,round:l,sin:Vr,sinh:rn,sqrt:Cr,sub:U,subtract:ie,tan:Qr,tanh:on,union:zr,wid:Xr,width:yt,zeroIn:B},Symbol.toStringTag,{value:"Module"})),po=rr(ho);var vo=function(t){t.mod=t.fmod,t.lessThan=t.lt,t.lessEqualThan=t.leq,t.greaterThan=t.gt,t.greaterEqualThan=t.geq,t.strictlyEqual=t.equal,t.strictlyNotEqual=t.notEqual,t.logicalAND=function(e,r){return e&&r},t.logicalXOR=function(e,r){return e^r},t.logicalOR=function(e,r){return e||r}},mo=function(t){return{disableRounding:function(){t.round.disable()},enableRounding:function(){t.round.enable()}}};const yo=Wi,z=po.default;vo(z);function go(t){Object.keys(t).forEach(function(e){const r=t[e];typeof r=="number"||Array.isArray(r)?t[e]=z.factory(r):typeof r=="object"&&"lo"in r&&"hi"in r&&(t[e]=z.factory(r.lo,r.hi))})}lt.exports=function(t){return new yo().setDefs({$$processScope:go}).parse(t).compile(z)};lt.exports.policies=mo(z);lt.exports.Interval=z;var wo=lt.exports,an=wo,ve={exports:{}},bo=function(t){var e=this,r=[];this.rawify(this.options.rawArrayExpressionElements,function(){r=t.nodes.map(function(o){return e.next(o)})});var n="["+r.join(",")+"]";return this.options.raw?n:this.options.factory+"("+n+")"},xo=function(t){return'scope["'+t.name+'"] = '+this.next(t.expr)},Eo=function(t){var e="!!("+this.next(t.condition)+")",r=this.next(t.trueExpr),n=this.next(t.falseExpr);return"("+e+" ? ("+r+") : ("+n+") )"},No=function(t){return this.options.raw?t.value:this.options.factory+"("+t.value+")"},de={exports:{}},Io=F.nodeTypes.SymbolNode,sn=function(t){return"$$mathCodegen.functionProxy("+this.next(new Io(t.name))+', "'+t.name+'")'};de.exports=function(t){var e=this,r=sn.call(this,t),n=[];return this.rawify(this.options.rawCallExpressionElements,function(){n=t.args.map(function(o){return e.next(o)})}),r+"("+n.join(", ")+")"};de.exports.functionProxy=sn;var $o=de.exports,Ao={"+":"add","-":"sub","*":"mul","/":"div","^":"pow","%":"mod","!":"factorial","|":"bitwiseOR","^|":"bitwiseXOR","&":"bitwiseAND","||":"logicalOR",xor:"logicalXOR","&&":"logicalAND","<":"lessThan",">":"greaterThan","<=":"lessEqualThan",">=":"greaterEqualThan","===":"strictlyEqual","==":"equal","!==":"strictlyNotEqual","!=":"notEqual",">>":"shiftRight","<<":"shiftLeft",">>>":"unsignedRightShift"},So=Ao,Mo=function(t){if(this.options.raw)return["("+this.next(t.args[0]),t.op,this.next(t.args[1])+")"].join(" ");var e=So[t.op];if(!e)throw TypeError("unidentified operator");return this.FunctionNode({name:e,args:t.args})},To=function(t){var e=t.name;return'$$mathCodegen.getProperty("'+e+'", scope, ns)'},ko={"+":"positive","-":"negative","~":"oneComplement"},He=ko,Oo=function(t){if(this.options.raw)return t.op+this.next(t.argument);if(!(t.op in He))throw new SyntaxError(t.op+" not implemented");var e=He[t.op];return this.FunctionNode({name:e,args:[t.argument]})},un=T,Lo={ArrayNode:bo,AssignmentNode:xo,ConditionalNode:Eo,ConstantNode:No,FunctionNode:$o,OperatorNode:Mo,SymbolNode:To,UnaryNode:Oo},wt=function(t,e){this.owner=t,this.options=un({factory:"ns.factory",raw:!1,rawArrayExpressionElements:!0,rawCallExpressionElements:!1},e)};un(wt.prototype,Lo);wt.prototype.next=function(t){if(!(t.type in this))throw new TypeError("the node type "+t.type+" is not implemented");return this[t.type](t)};wt.prototype.rawify=function(t,e){var r=this.options.raw;t&&(this.options.raw=!0),e(),t&&(this.options.raw=r)};var Po=wt,_o=F.Parser,Ho=Po,Co=T;function bt(t,e){this.statements=[],this.defs=e||{},this.interpreter=new Ho(this,t)}bt.prototype.setDefs=function(t){return this.defs=Co(this.defs,t),this};bt.prototype.compile=function(t){if(!t||!(typeof t=="object"||typeof t=="function"))throw TypeError("namespace must be an object");if(typeof t.factory!="function")throw TypeError("namespace.factory must be a function");this.defs.ns=t,this.defs.$$mathCodegen={getProperty:function(i,a,c){if(i in a)return a[i];if(i in c)return c[i];throw SyntaxError('symbol "'+i+'" is undefined')},functionProxy:function(i,a){if(typeof i!="function")throw SyntaxError('symbol "'+a+'" must be a function');return i}},this.defs.$$processScope=this.defs.$$processScope||function(){};var e=Object.keys(this.defs).map(function(i){return"var "+i+' = defs["'+i+'"]'});if(!this.statements.length)throw Error("there are no statements saved in this generator, make sure you parse an expression before compiling it");this.statements[this.statements.length-1]="return "+this.statements[this.statements.length-1];var r=this.statements.join(";"),n=e.join(`
`)+`
`+["return {","  eval: function (scope) {","    scope = scope || {}","    $$processScope(scope)","    "+r,"  },","  code: '"+r+"'","}"].join(`
`),o=new Function("defs",n);return o(this.defs)};bt.prototype.parse=function(t){var e=this,r=new _o().parse(t);return this.statements=r.blocks.map(function(n){return e.interpreter.next(n)}),this};var Ro=bt,Fo=Ro,jo=function(){var t=Object.create(Math);return t.factory=function(e){if(typeof e!="number")throw new TypeError("built-in math factory only accepts numbers");return Number(e)},t.add=function(e,r){return e+r},t.sub=function(e,r){return e-r},t.mul=function(e,r){return e*r},t.div=function(e,r){return e/r},t.mod=function(e,r){return e%r},t.factorial=function(e){for(var r=1,n=2;n<=e;n+=1)r*=n;return r},t.nthRoot=function(e,r){var n=r<0;if(n&&(r=-r),r===0)throw new Error("Root must be non-zero");if(e<0&&Math.abs(r)%2!==1)throw new Error("Root must be odd when a is negative.");if(e===0)return 0;if(!isFinite(e))return n?0:e;var o=Math.pow(Math.abs(e),1/r);return o=e<0?-o:o,n?1/o:o},t.logicalOR=function(e,r){return e||r},t.logicalXOR=function(e,r){return e!=r},t.logicalAND=function(e,r){return e&&r},t.bitwiseOR=function(e,r){return e|r},t.bitwiseXOR=function(e,r){return e^r},t.bitwiseAND=function(e,r){return e&r},t.lessThan=function(e,r){return e<r},t.lessEqualThan=function(e,r){return e<=r},t.greaterThan=function(e,r){return e>r},t.greaterEqualThan=function(e,r){return e>=r},t.equal=function(e,r){return e==r},t.strictlyEqual=function(e,r){return e===r},t.notEqual=function(e,r){return e!=r},t.strictlyNotEqual=function(e,r){return e!==r},t.shiftRight=function(e,r){return e>>r},t.shiftLeft=function(e,r){return e<<r},t.unsignedRightShift=function(e,r){return e>>>r},t.negative=function(e){return-e},t.positive=function(e){return e},t},Do=Fo,me=jo();function qo(t){Object.keys(t).forEach(function(e){var r=t[e];t[e]=me.factory(r)})}ve.exports=function(t){return new Do().setDefs({$$processScope:qo}).parse(t).compile(me)};ve.exports.math=me;var Yo=ve.exports,zo=Yo,ln={interval:an,builtIn:zo},Go=T;window.math&&(ln.builtIn=window.math.compile);function cn(t){function e(i){if(typeof i=="string"){var a=ln[t];return a(i)}else{if(typeof i=="function")return{eval:i};throw Error("expression must be a string or a function")}}function r(i,a){var c=i[a],u=t+"_Expression_"+a,h=t+"_Compiled_"+a;c!==i[u]&&(i[u]=c,i[h]=e(c))}function n(i,a){return i[t+"_Compiled_"+a]}function o(i,a,c){return r(i,a),n(i,a).eval(Go({},i.scope||{},c))}return o}_.builtIn=cn("builtIn");_.interval=cn("interval");var Ce=window.d3,Xo=T,$t=X,Re=jt,Fe=ut,je=_.builtIn,Bo=function(t){t=Xo({xLine:!1,yLine:!1,renderer:function(i,a,c){return"("+i.toFixed(3)+", "+a.toFixed(3)+")"},owner:null},t);var e=20,r=Ce.svg.line().x(function(i){return i[0]}).y(function(i){return i[1]});function n(i,a){return i.append("path").datum(a).attr("stroke","grey").attr("stroke-dasharray","5,5").attr("opacity",.5).attr("d",r)}function o(i){var a=i.selectAll("g.tip").data(function(c){return[c]});a.enter().append("g").attr("class","tip").attr("clip-path","url(#function-plot-clip-"+t.owner.id+")"),o.el=a.selectAll("g.inner-tip").data(function(c){return[c]}),o.el.enter().append("g").attr("class","inner-tip").style("display","none").each(function(){var c=Ce.select(this);n(c,[[0,-t.owner.meta.height-e],[0,t.owner.meta.height+e]]).attr("class","tip-x-line").style("display","none"),n(c,[[-t.owner.meta.width-e,0],[t.owner.meta.width+e,0]]).attr("class","tip-y-line").style("display","none"),c.append("circle").attr("r",3),c.append("text").attr("transform","translate(5,-5)")}),i.selectAll(".tip-x-line").style("display",t.xLine?null:"none"),i.selectAll(".tip-y-line").style("display",t.yLine?null:"none")}return o.move=function(i){var a,c=1/0,u=-1,h,s,v=o.el,f=1e8,p=t.owner.meta,m=v.data()[0].data,y=p.xScale,d=p.yScale,N=p.width,x=p.height,I=i.x,$=i.y;for(a=0;a<m.length;a+=1)if(!(m[a].skipTip||m[a].fnType!=="linear")){var S=m[a].range||[-f,f];if(I>S[0]-Fe.TIP_X_EPS&&I<S[1]+Fe.TIP_X_EPS){try{var O=je(m[a],"fn",{x:I})}catch{}if($t.isValidNumber(O)){var W=Math.abs(O-$);W<c&&(c=W,u=a)}}}if(u!==-1){h=I,m[u].range&&(h=Math.max(h,m[u].range[0]),h=Math.min(h,m[u].range[1])),s=je(m[u],"fn",{x:h}),o.show(),t.owner.emit("tip:update",h,s,u);var Q=Re(h,y.invert(-e),y.invert(N+e)),xt=Re(s,d.invert(x+e),d.invert(-e)),be=$t.color(m[u],u);v.attr("transform","translate("+y(Q)+","+d(xt)+")"),v.select("circle").attr("fill",be),v.select("text").attr("fill",be).text(t.renderer(h,s,u))}else o.hide()},o.show=function(){this.el.style("display",null)},o.hide=function(){this.el.style("display","none")},Object.keys(t).forEach(function(i){$t.getterSetter.call(o,t,i)}),o},fn=an,q=fn.Interval,hn=_.interval,Uo=X;fn.policies.disableRounding();function Wo(t,e,r,n){var o=Uo.space(t,r,n),i=t.meta.xScale,a=t.meta.yScale,c=a.domain()[0],u=a.domain()[1],h=[],s;for(s=0;s<o.length-1;s+=1){var v={lo:o[s],hi:o[s+1]},f=hn(e,"fn",{x:v});!q.isEmpty(f)&&!q.isWhole(f)&&h.push([v,f]),q.isWhole(f)&&h.push(null)}for(s=1;s<h.length-1;s+=1)if(!h[s]){var p=h[s-1],m=h[s+1];p&&m&&!q.intervalsOverlap(p[1],m[1])&&(p[1].lo>m[1].hi&&(p[1].hi=Math.max(u,p[1].hi),m[1].lo=Math.min(c,m[1].lo)),p[1].hi<m[1].lo&&(p[1].lo=Math.min(c,p[1].lo),m[1].hi=Math.max(u,m[1].hi)))}return h.scaledDx=i(o[1])-i(o[0]),[h]}var pn;function Zo(t,e){return q.width(t)<pn}function Z(t,e,r){var n=hn(r,"fn",{x:t,y:e}),o=q.zeroIn(n);if(!o)return this;if(Zo(t))return this.push([t,e]),this;var i=t.lo+(t.hi-t.lo)/2,a=e.lo+(e.hi-e.lo)/2,c={lo:i,hi:t.hi},u={lo:t.lo,hi:i},h={lo:a,hi:e.hi},s={lo:e.lo,hi:a};Z.call(this,c,h,r),Z.call(this,c,s,r),Z.call(this,u,h,r),Z.call(this,u,s,r)}function Ko(t,e){var r=t.meta.xScale,n=t.meta.xScale.domain(),o=t.meta.yScale.domain(),i={lo:n[0],hi:n[1]},a={lo:o[0],hi:o[1]},c=[];return pn=r.invert(1)-r.invert(0),Z.call(c,i,a,e),c.scaledDx=1,[c]}var Vo=function(t,e,r,n){var o={implicit:Ko,linear:Wo};if(!o.hasOwnProperty(e.fnType))throw Error(e.fnType+" is not supported in the `interval` sampler");return o[e.fnType].apply(null,arguments)},Qo=Vo,Jo=jt,ta=Ft,P=X,V=_.builtIn;function vn(t,e,r,n,o){if(!o)return{asymptote:!0,d0:t,d1:e};var i,a=10,c=t[0],u=e[0],h=ta(c,u,a),s,v;for(i=0;i<a;i+=1){var f=h[i],p=V(r,"fn",{x:f});if(i){var m=p-s,y=P.sgn(m);if(y===n)return vn([v,s],[f,p],r,n,o-1)}s=p,v=f}return{asymptote:!1,d0:t,d1:e}}function ea(t,e,r){var n,o,i,a=[],c=[],u=t.meta.yScale.domain(),h=t.meta.zoomBehavior.scale(),s=u[0],v=u[1];r[0]&&(a.push(r[0]),i=r[1][0]-r[0][0],o=P.sgn(r[1][1]-r[0][1]));function f(x){return x[1]=Math.min(x[1],v),x[1]=Math.max(x[1],s),x}for(n=1;n<r.length;){var p=r[n-1][1],m=r[n][1],y=m-p,d=P.sgn(y);if(o!==d&&Math.abs(y/i)>1/h){var N=vn(r[n-1],r[n],e,d,3);N.asymptote&&(a.push(f(N.d0)),c.push(a),a=[f(N.d1)])}o=d,a.push(r[n]),++n}return a.length&&c.push(a),c}function ra(t,e,r,n){var o=P.space(t,r,n),i=t.meta.yScale.domain(),a=i[1]-i[0],c=i[0]-a*1e5,u=i[1]+a*1e5,h=[],s;for(s=0;s<o.length;s+=1){var v=o[s],f=V(e,"fn",{x:v});P.isValidNumber(v)&&P.isValidNumber(f)&&h.push([v,Jo(f,c,u)])}return h=ea(t,e,h),h}function na(t,e,r,n){for(var o=e.range||[0,2*Math.PI],i=P.space(t,o,n),a=[],c=0;c<i.length;c+=1){var u=i[c],h=V(e,"x",{t:u}),s=V(e,"y",{t:u});a.push([h,s])}return[a]}function ia(t,e,r,n){for(var o=e.range||[-Math.PI,Math.PI],i=P.space(t,o,n),a=[],c=0;c<i.length;c+=1){var u=i[c],h=V(e,"r",{theta:u}),s=h*Math.cos(u),v=h*Math.sin(u);a.push([s,v])}return[a]}function oa(t,e,r,n){return[e.points]}function aa(t,e,r,n){return e.offset=e.offset||[0,0],[[e.offset,[e.vector[0]+e.offset[0],e.vector[1]+e.offset[1]]]]}var sa=function(t,e,r,n){var o={parametric:na,polar:ia,points:oa,vector:aa,linear:ra};if(!(e.fnType in o))throw Error(e.fnType+" is not supported in the `builtIn` sampler");return o[e.fnType].apply(null,arguments)},ua=sa,De=ut,la={interval:Qo,builtIn:ua};function ca(t,e){var r=e.range||[-1/0,1/0],n=t.meta.xScale,o=Math.max(n.domain()[0],r[0]),i=Math.min(n.domain()[1],r[1]);return[o,i]}function fa(t,e){var r=ca(t,e),n,o=la[e.sampler],i=e.nSamples||Math.min(De.MAX_ITERATIONS,De.DEFAULT_ITERATIONS||t.meta.width*2);return n=o(t,e,r,i),t.emit("eval",n,e.index,e.isHelper),n}var ye=fa,et=window.d3,ha=ye,pa=X,va=jt,ge=function(t){var e=t.meta.xScale,r=t.meta.yScale;function n(o){o.each(function(i){var a=n.el=et.select(this),c=i.index,u=ha(t,i),h=pa.color(i,c),s=a.selectAll(":scope > path.line").data(u),v=r.range(),f=v[0],p=v[1],m=f-p;f+=m*1e6,p-=m*1e6,i.skipBoundsCheck&&(f=1/0,p=-1/0);function y(x){return va(r(x[1]),p,f)}var d=et.svg.line().interpolate("linear").x(function(x){return e(x[0])}).y(y),N=et.svg.area().x(function(x){return e(x[0])}).y0(r(0)).y1(y);s.enter().append("path").attr("class","line line-"+c).attr("stroke-width",1).attr("stroke-linecap","round"),s.each(function(){var x=et.select(this),I;i.closed?(x.attr("fill",h),x.attr("fill-opacity",.3),I=N):(x.attr("fill","none"),I=d),x.attr("stroke",h).attr("marker-end",function(){return i.fnType==="vector"?"url(#"+t.markerId+")":null}).attr("d",I)}).attr(i.attr),s.exit().remove()})}return n},da=function(e){return typeof e=="object"&&e!==null},ma=da,we=function(t){if(!ma(t))throw Error("datum is not an object");return t.hasOwnProperty("graphType")||(t.graphType="interval"),t.hasOwnProperty("sampler")||(t.sampler=t.graphType!=="interval"?"builtIn":"interval"),t.hasOwnProperty("fnType")||(t.fnType="linear"),t},ya=window.d3,qe=_.builtIn,ga=ge,wa=we,ba=function(t){var e=wa({isHelper:!0,skipTip:!0,skipBoundsCheck:!0,nSamples:2,graphType:"polyline"}),r;function n(i){if(!i.derivative)return[];var a=typeof i.derivative.x0=="number"?i.derivative.x0:1/0;return e.index=i.index,e.scope={m:qe(i.derivative,"fn",{x:a}),x0:a,y0:qe(i,"fn",{x:a})},e.fn="m * (x - x0) + y0",[e]}function o(i){var a=this;i.derivative&&i.derivative.updateOnMouseMove&&!i.derivative.$$mouseListener&&(i.derivative.$$mouseListener=function(c){i.derivative&&(i.derivative.x0=c),r(a)},t.on("tip:update",i.derivative.$$mouseListener))}return r=function(i){i.each(function(a){var c=ya.select(this),u=n.call(i,a);o.call(i,a);var h=c.selectAll("g.derivative").data(u);h.enter().append("g").attr("class","derivative"),h.call(ga(t)),h.selectAll("path").attr("opacity",.5),h.exit().remove()})},r},xa=window.d3,Ye=T,ze=_.builtIn,Ea=we,Na=ge,Ia=function(t){var e=Ea({isHelper:!0,skipTip:!0,skipBoundsCheck:!0,nSamples:2,graphType:"polyline"}),r;function n(u){u.m=(u.y1-u.y0)/(u.x1-u.x0)}function o(u,h){if(!h.hasOwnProperty("x0"))throw Error("secant must have the property `x0` defined");h.scope=h.scope||{};var s=h.x0,v=typeof h.x1=="number"?h.x1:1/0;Ye(h.scope,{x0:s,x1:v,y0:ze(u,"fn",{x:s}),y1:ze(u,"fn",{x:v})}),n(h.scope)}function i(u,h){o(u,h),h.fn="m * (x - x0) + y0"}function a(u,h){var s=this;h.updateOnMouseMove&&!h.$$mouseListener&&(h.$$mouseListener=function(v){h.x1=v,o(u,h),r(s)},t.on("tip:update",h.$$mouseListener))}function c(u){var h=this,s=[];u.secants=u.secants||[];for(var v=0;v<u.secants.length;v+=1){var f=u.secants[v]=Ye({},e,u.secants[v]);f.index=u.index,f.fn||(i.call(h,u,f),a.call(h,u,f)),s.push(f)}return s}return r=function(u){u.each(function(h){var s=xa.select(this),v=c.call(u,h),f=s.selectAll("g.secant").data(v);f.enter().append("g").attr("class","secant"),f.call(Na(t)),f.selectAll("path").attr("opacity",.5),f.exit().remove()})},r},$a=window.d3,Aa=ba,Sa=Ia,Ma=function(t){function e(r){r.each(function(){var n=$a.select(this);n.call(Aa(t)),n.call(Sa(t))})}return e},Ge=window.d3,Ta=function(t){var e,r=t.owner.meta.xScale,n=t.owner.meta.yScale,o=Ge.svg.line().x(function(i){return i[0]}).y(function(i){return i[1]});return e=function(i){i.each(function(){var a=Ge.select(this),c=a.selectAll("g.annotations").data(function(f){return f.annotations||[]});c.enter().append("g").attr("class","annotations");var u=n.range(),h=r.range(),s=c.selectAll("path").data(function(f){return f.hasOwnProperty("x")?[[[0,u[0]],[0,u[1]]]]:[[[h[0],0],[h[1],0]]]});s.enter().append("path").attr("stroke","#eee").attr("d",o),s.exit().remove();var v=c.selectAll("text").data(function(f){return[{text:f.text||"",hasX:f.hasOwnProperty("x")}]});v.enter().append("text").attr("y",function(f){return f.hasX?3:0}).attr("x",function(f){return f.hasX?0:3}).attr("dy",function(f){return f.hasX?5:-5}).attr("text-anchor",function(f){return f.hasX?"end":""}).attr("transform",function(f){return f.hasX?"rotate(-90)":""}).text(function(f){return f.text}),v.exit().remove(),c.attr("transform",function(f){return f.hasOwnProperty("x")?"translate("+r(f.x)+", 0)":"translate(0, "+n(f.y)+")"}),c.exit().remove()})},e},At,Xe;function ka(){if(Xe)return At;Xe=1;var t=window.d3,e=ye,r=X;return At=function(n){var o,i=n.meta.xScale,a=n.meta.yScale;function c(s,v,f,p){if(f>p){var m=f;f=p,p=m}var y=Math.min(v,p),d=Math.max(s,f);return d>y?[-o,0]:[d,y]}var u=function(s,v){for(var f="",p=a.range(),m=Math.min.apply(Math,p),y=Math.max.apply(Math,p),d=0,N=s.length;d<N;d+=1)if(s[d]){var x=s[d][0],I=s[d][1],$=I.lo,S=I.hi;v&&($=Math.min($,0),S=Math.max(S,0));var O=i(x.lo)+s.scaledDx/2,W=c(m,y,isFinite(S)?a(S):-1/0,isFinite($)?a($):1/0),Q=W[0],xt=W[1];f+=" M "+O+" "+Q,f+=" v "+Math.max(xt-Q,o)}return f};function h(s){s.each(function(v){var f=h.el=t.select(this),p=v.index,m=v.closed,y=e(n,v),d=f.selectAll(":scope > path.line").data(y);o=Math.max(y[0].scaledDx,1),d.enter().append("path").attr("class","line line-"+p).attr("fill","none"),d.attr("stroke-width",o).attr("stroke",r.color(v,p)).attr("opacity",m?.5:1).attr("d",function(N){return u(N,m)}).attr(v.attr),d.exit().remove()})}return h},At}var St,Be;function Oa(){if(Be)return St;Be=1;var t=window.d3,e=ye,r=X;return St=function(n){var o=n.meta.xScale,i=n.meta.yScale;function a(c){c.each(function(u){var h,s,v=u.index,f=r.color(u,v),p=e(n,u),m=[];for(h=0;h<p.length;h+=1)for(s=0;s<p[h].length;s+=1)m.push(p[h][s]);var y=t.select(this).selectAll(":scope > circle").data(m);y.enter().append("circle"),y.attr("fill",t.hsl(f.toString()).brighter(1.5)).attr("stroke",f).attr("opacity",.7).attr("r",1).attr("cx",function(d){return o(d[0])}).attr("cy",function(d){return i(d[1])}).attr(u.attr),y.exit().remove()})}return a},St}var Mt,Ue;function La(){return Ue||(Ue=1,Mt={polyline:ge,interval:ka(),scatter:Oa()}),Mt}var Tt={exports:{}},We;function dn(){if(We)return Tt.exports;We=1;var t=typeof window<"u"?window.navigator.userAgent:"",e=/OS X/.test(t),r=/Opera/.test(t),n=!/like Gecko/.test(t)&&!r,o,i=Tt.exports={0:e?"<menu>":"<UNK>",1:"<mouse 1>",2:"<mouse 2>",3:"<break>",4:"<mouse 3>",5:"<mouse 4>",6:"<mouse 5>",8:"<backspace>",9:"<tab>",12:"<clear>",13:"<enter>",16:"<shift>",17:"<control>",18:"<alt>",19:"<pause>",20:"<caps-lock>",21:"<ime-hangul>",23:"<ime-junja>",24:"<ime-final>",25:"<ime-kanji>",27:"<escape>",28:"<ime-convert>",29:"<ime-nonconvert>",30:"<ime-accept>",31:"<ime-mode-change>",27:"<escape>",32:"<space>",33:"<page-up>",34:"<page-down>",35:"<end>",36:"<home>",37:"<left>",38:"<up>",39:"<right>",40:"<down>",41:"<select>",42:"<print>",43:"<execute>",44:"<snapshot>",45:"<insert>",46:"<delete>",47:"<help>",91:"<meta>",92:"<meta>",93:e?"<meta>":"<menu>",95:"<sleep>",106:"<num-*>",107:"<num-+>",108:"<num-enter>",109:"<num-->",110:"<num-.>",111:"<num-/>",144:"<num-lock>",145:"<scroll-lock>",160:"<shift-left>",161:"<shift-right>",162:"<control-left>",163:"<control-right>",164:"<alt-left>",165:"<alt-right>",166:"<browser-back>",167:"<browser-forward>",168:"<browser-refresh>",169:"<browser-stop>",170:"<browser-search>",171:"<browser-favorites>",172:"<browser-home>",173:e&&n?"-":"<volume-mute>",174:"<volume-down>",175:"<volume-up>",176:"<next-track>",177:"<prev-track>",178:"<stop>",179:"<play-pause>",180:"<launch-mail>",181:"<launch-media-select>",182:"<launch-app 1>",183:"<launch-app 2>",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",223:"<meta>",224:"<meta>",226:"<alt-gr>",229:"<ime-process>",231:r?"`":"<unicode>",246:"<attention>",247:"<crsel>",248:"<exsel>",249:"<erase-eof>",250:"<play>",251:"<zoom>",252:"<no-name>",253:"<pa-1>",254:"<clear>"};for(o=58;o<65;++o)i[o]=String.fromCharCode(o);for(o=48;o<58;++o)i[o]=o-48+"";for(o=65;o<91;++o)i[o]=String.fromCharCode(o);for(o=96;o<106;++o)i[o]="<num-"+(o-96)+">";for(o=112;o<136;++o)i[o]="F"+(o-111);return Tt.exports}var kt,Ze;function mn(){if(Ze)return kt;Ze=1;var t=dn(),e=Object.keys(t),r={};o(),kt=n,process.browser&&(window.addEventListener("keydown",a,!1),window.addEventListener("keyup",i,!1),window.addEventListener("blur",o,!1));function n(c){return c?r[c]:r}function o(){e.forEach(function(c){r[t[c]]=!1})}function i(c){r[t[c.keyCode]]=!1}function a(c){r[t[c.keyCode]]=!0}return kt}var Ot,Ke;function yn(){if(Ke)return Ot;Ke=1;var t=ir.EventEmitter,e=dn();return Ot=function(r,n){typeof r=="string"&&(r=[r]),n||(n=window);var o=new t;o.pressed={},n.addEventListener("blur",i),n.addEventListener("focus",i),n.addEventListener("keydown",function(a){var c=e[a.keyCode];o.pressed[c]=!0;var u=!0;r.forEach(function(h){o.pressed[h]||(u=!1)}),u&&(o.emit("pressed",o.pressed),i())}),n.addEventListener("keyup",function(a){delete o.pressed[e[a.keyCode]]});function i(){o.pressed={}}return o},Ot}var Lt,Ve;function Pa(){if(Ve)return Lt;Ve=1;var t=window.d3,e=T,r=mn(),n=yn();return Lt=function(o){o=e({key:"<shift>",toggle:!1},o);var i=t.svg.brush(),a=n(o.key),c,u=!1;function h(v){var f=c.canvas.selectAll(".zoom-box");f.style("display",v?null:"none")}function s(v){c=v;var f;i.x(v.meta.xScale).y(v.meta.yScale).on("brushstart",function(){t.event.sourceEvent&&(f=!!v.options.disableZoom,v.options.disableZoom=!0,v.draw())}).on("brushend",function(){if(t.event.sourceEvent){if(v.options.disableZoom=f,!i.empty()){var m=i.extent()[0],y=i.extent()[1],d=[m[0],y[0]],N=[m[1],y[1]];v.programmaticZoom(d,N)}t.select(this).transition().duration(1).call(i.clear()).call(i.event)}});var p=v.canvas.append("g").attr("class","brush zoom-box");p.call(i).call(i.event),v.canvas.selectAll(".brush .extent").attr("stroke","#fff").attr("fill-opacity",.125).attr("shape-rendering","crispEdges"),v.canvas.on("mousemove.zoombox",function(){o.toggle||s.visible(r(o.key))}),a.on("pressed",function(){s.visible(o.toggle?!s.visible():!0)}),s.visible(!1)}return s.visible=function(v){return arguments.length?(u=v,h(v),s):u},s},Lt}var Pt,Qe;function _a(){if(Qe)return Pt;Qe=1,Pt=e;function t(r,n,o,i,a,c,u,h,s,v,f){if(f.nanEncountered)return NaN;var p,m,y,d,N,x,I,$,S,O;if(p=o-n,m=r(n+p*.25),y=r(o-p*.25),isNaN(m)){f.nanEncountered=!0;return}if(isNaN(y)){f.nanEncountered=!0;return}return d=p*(i+4*m+a)/12,N=p*(a+4*y+c)/12,x=d+N,O=(x-u)/15,v>s?(f.maxDepthCount++,x+O):Math.abs(O)<h?x+O:(I=n+p*.5,$=t(r,n,I,i,m,a,d,h*.5,s,v+1,f),isNaN($)?(f.nanEncountered=!0,NaN):(S=t(r,I,o,a,y,c,N,h*.5,s,v+1,f),isNaN(S)?(f.nanEncountered=!0,NaN):$+S))}function e(r,n,o,i,a){var c={maxDepthCount:0,nanEncountered:!1};i===void 0&&(i=1e-8),a===void 0&&(a=20);var u=r(n),h=r(.5*(n+o)),s=r(o),v=(u+4*h+s)*(o-n)/6,f=t(r,n,o,u,h,s,v,i,a,1,c);return c.maxDepthCount>0&&console&&console.warn&&console.warn("integrate-adaptive-simpson: Warning: maximum recursion depth ("+a+") reached "+c.maxDepthCount+" times"),c.nanEncountered&&console&&console.warn&&console.warn("integrate-adaptive-simpson: Warning: NaN encountered. Halting early."),f}return Pt}var _t,Je;function Ha(){if(Je)return _t;Je=1;var t=window.d3,e=T,r=mn(),n=yn(),o=_a();return _t=function(i){i=e({key:"<shift>",toggle:!1},i);var a=t.svg.brush(),c=n(i.key),u=!1,h;function s(p){return function(m){var y=window.functionPlot;return y.eval.builtIn(p,"fn",{x:m})}}function v(p){var m=h.canvas.selectAll(".definite-integral");m.style("display",p?null:"none")}function f(p){h=p;var m;a.x(p.meta.xScale).on("brushstart",function(){t.event.sourceEvent&&(m=!!p.options.disableZoom,p.options.disableZoom=!0,p.emit("draw"))}).on("brushend",function(){if(t.event.sourceEvent){if(p.options.disableZoom=m,!a.empty()){var d=a.extent()[0],N=a.extent()[1];p.options.data.forEach(function(x,I){var $=o(s(x),d,N,i.tol,i.maxdepth);p.emit("definite-integral",x,I,$,d,N)})}p.draw()}});var y=p.canvas.append("g").attr("class","brush definite-integral");y.call(a).call(a.event),p.canvas.selectAll(".brush .extent").attr("stroke","#fff").attr("fill-opacity",.125).attr("shape-rendering","crispEdges"),y.selectAll("rect").attr("height",p.meta.height),p.canvas.on("mousemove.definiteIntegral",function(){i.toggle||f.visible(r(i.key))}),c.on("pressed",function(){f.visible(i.toggle?!f.visible():!0)}),f.visible(!1)}return f.visible=function(p){return arguments.length?(u=p,v(p),f):u},f},_t}var Ht,tr;function Ca(){return tr||(tr=1,Ht={zoomBox:Pa(),definiteIntegral:Ha()}),Ht}var gn,wn,A=window.d3,Ra=ir,Fa=T,ja=Bo,Da=Ma,qa=Ta,Ya=we,nt,bn,er=[];G.exports=function(t){t=t||{},t.data=t.data||[];var e,r,n,o,i,a,c=A.svg.line().x(function(s){return i(s[0])}).y(function(s){return a(s[1])});function u(){var s=Math.random(),v=String.fromCharCode(Math.floor(s*26)+97);this.id=t.id=v+s.toString(16).substr(2),this.linkedGraphs=[this],this.options=t,er[this.id]=this,this.setUpEventListeners()}u.prototype=Object.create(Ra.prototype),u.prototype.build=function(){return this.internalVars(),this.drawGraphWrapper(),this},u.prototype.initializeAxes=function(){var s=A.format("s"),v=function(y){return function(d){var N=y.tickFormat(10),x=d===+d&&d===(d|0);return x?s(d):N(d)}};function f(y){var d=y[1]-y[0];return r*d/e}t.xAxis=t.xAxis||{},t.xAxis.type=t.xAxis.type||"linear",t.yAxis=t.yAxis||{},t.yAxis.type=t.yAxis.type||"linear";var p=this.meta.xDomain=function(y){if(y.domain)return y.domain;if(y.type==="linear"){var d=12;return[-d/2,d/2]}else if(y.type==="log")return[1,10];throw Error("axis type "+y.type+" unsupported")}(t.xAxis),m=this.meta.yDomain=function(y){if(y.domain)return y.domain;var d=f(p);if(y.type==="linear")return[-d/2,d/2];if(y.type==="log")return[1,10];throw Error("axis type "+y.type+" unsupported")}(t.yAxis);if(p[0]>=p[1])throw Error("the pair defining the x-domain is inverted");if(m[0]>=m[1])throw Error("the pair defining the y-domain is inverted");i=this.meta.xScale=A.scale[t.xAxis.type]().domain(p).range(t.xAxis.invert?[e,0]:[0,e]),a=this.meta.yScale=A.scale[t.yAxis.type]().domain(m).range(t.yAxis.invert?[0,r]:[r,0]),this.meta.xAxis=A.svg.axis().scale(i).tickSize(t.grid?-r:0).tickFormat(v(i)).orient("bottom"),this.meta.yAxis=A.svg.axis().scale(a).tickSize(t.grid?-e:0).tickFormat(v(a)).orient("left")},u.prototype.internalVars=function(){this.meta={},n=this.meta.margin={left:30,right:30,top:20,bottom:20},t.title&&(this.meta.margin.top=40),o=this.meta.zoomBehavior=A.behavior.zoom(),e=this.meta.width=(t.width||nt.DEFAULT_WIDTH)-n.left-n.right,r=this.meta.height=(t.height||nt.DEFAULT_HEIGHT)-n.top-n.bottom,this.initializeAxes()},u.prototype.drawGraphWrapper=function(){var s=this.root=A.select(t.target).selectAll("svg").data([t]);this.root.enter=s.enter().append("svg").attr("class","function-plot").attr("font-size",this.getFontSize()),s.attr("width",e+n.left+n.right).attr("height",r+n.top+n.bottom),this.buildTitle(),this.buildLegend(),this.buildCanvas(),this.buildClip(),this.buildAxis(),this.buildAxisLabel(),this.draw();var v=this.tip=ja(Fa(t.tip,{owner:this}));this.canvas.call(v),this.buildZoomHelper(),this.setUpPlugins()},u.prototype.buildTitle=function(){var s=this.root.selectAll("text.title").data(function(v){return[v.title].filter(Boolean)});s.enter().append("text").attr("class","title").attr("y",n.top/2).attr("x",n.left+e/2).attr("font-size",25).attr("text-anchor","middle").attr("alignment-baseline","middle").text(t.title),s.exit().remove()},u.prototype.buildLegend=function(){this.root.enter.append("text").attr("class","top-right-legend").attr("text-anchor","end"),this.root.select(".top-right-legend").attr("y",n.top/2).attr("x",e+n.left)},u.prototype.buildCanvas=function(){var s=this;this.meta.zoomBehavior.x(i).y(a).on("zoom",function(){s.emit("all:zoom",A.event.translate,A.event.scale)});var v=this.canvas=this.root.selectAll(".canvas").data(function(f){return[f]});this.canvas.enter=v.enter().append("g").attr("class","canvas")},u.prototype.buildClip=function(){var s=this.id,v=this.canvas.enter.append("defs");v.append("clipPath").attr("id","function-plot-clip-"+s).append("rect").attr("class","clip static-clip"),this.canvas.selectAll(".clip").attr("width",e).attr("height",r),this.markerId=this.id+"-marker",v.append("clipPath").append("marker").attr("id",this.markerId).attr("viewBox","0 -5 10 10").attr("refX",10).attr("markerWidth",5).attr("markerHeight",5).attr("orient","auto").append("svg:path").attr("d","M0,-5L10,0L0,5L0,0").attr("stroke-width","0px").attr("fill-opacity",1).attr("fill","#777")},u.prototype.buildAxis=function(){var s=this.canvas.enter;s.append("g").attr("class","x axis"),s.append("g").attr("class","y axis"),this.canvas.select(".x.axis").attr("transform","translate(0,"+r+")").call(this.meta.xAxis),this.canvas.select(".y.axis").call(this.meta.yAxis)},u.prototype.buildAxisLabel=function(){var s,v,f=this.canvas;s=f.selectAll("text.x.axis-label").data(function(p){return[p.xAxis.label].filter(Boolean)}),s.enter().append("text").attr("class","x axis-label").attr("text-anchor","end"),s.attr("x",e).attr("y",r-6).text(function(p){return p}),s.exit().remove(),v=f.selectAll("text.y.axis-label").data(function(p){return[p.yAxis.label].filter(Boolean)}),v.enter().append("text").attr("class","y axis-label").attr("y",6).attr("dy",".75em").attr("text-anchor","end").attr("transform","rotate(-90)"),v.text(function(p){return p}),v.exit().remove()},u.prototype.buildContent=function(){var s=this,v=this.canvas;v.attr("transform","translate("+n.left+","+n.top+")").call(o).each(function(){var d=A.select(this),N=["mousedown","touchstart","onwheel"in document?"wheel":"ononmousewheel"in document?"mousewheel":"MozMousePixelScroll"].map(function(I){return I+".zoom"});d._zoomListenersCache||(N.forEach(function(I){d["_"+I]=d.on(I)}),d._zoomListenersCache=!0);function x(I){N.forEach(function($){I?d.on($,d["_"+$]):d.on($,null)})}x(!t.disableZoom)});var f=this.content=v.selectAll(":scope > g.content").data(function(d){return[d]});if(f.enter().append("g").attr("clip-path","url(#function-plot-clip-"+this.id+")").attr("class","content"),t.xAxis.type==="linear"){var p=f.selectAll(":scope > path.y.origin").data([[[0,a.domain()[0]],[0,a.domain()[1]]]]);p.enter().append("path").attr("class","y origin").attr("stroke","black").attr("opacity",.2),p.attr("d",c)}if(t.yAxis.type==="linear"){var m=f.selectAll(":scope > path.x.origin").data([[[i.domain()[0],0],[i.domain()[1],0]]]);m.enter().append("path").attr("class","x origin").attr("stroke","black").attr("opacity",.2),m.attr("d",c)}f.call(qa({owner:s}));var y=f.selectAll(":scope > g.graph").data(function(d){return d.data.map(Ya)});y.enter().append("g").attr("class","graph"),y.each(function(d,N){d.index=N,A.select(this).call(bn[d.graphType](s)),A.select(this).call(Da(s))})},u.prototype.buildZoomHelper=function(){var s=this;this.draggable=this.canvas.enter.append("rect").attr("class","zoom-and-drag").style("fill","none").style("pointer-events","all"),this.canvas.select(".zoom-and-drag").attr("width",e).attr("height",r).on("mouseover",function(){s.emit("all:mouseover")}).on("mouseout",function(){s.emit("all:mouseout")}).on("mousemove",function(){s.emit("all:mousemove")})},u.prototype.setUpPlugins=function(){var s=t.plugins||[],v=this;s.forEach(function(f){f(v)})},u.prototype.addLink=function(){for(var s=0;s<arguments.length;s+=1)this.linkedGraphs.push(arguments[s])},u.prototype.updateAxes=function(){var s=this,v=s.canvas;v.select(".x.axis").call(s.meta.xAxis),v.select(".y.axis").call(s.meta.yAxis),v.selectAll(".axis path, .axis line").attr("fill","none").attr("stroke","black").attr("shape-rendering","crispedges").attr("opacity",.1)},u.prototype.syncOptions=function(){this.options.xAxis.domain=this.meta.xScale.domain(),this.options.yAxis.domain=this.meta.yScale.domain()},u.prototype.programmaticZoom=function(s,v){var f=this;A.transition().duration(750).tween("zoom",function(){var p=A.interpolate(i.domain(),s),m=A.interpolate(a.domain(),v);return function(y){o.x(i.domain(p(y))).y(a.domain(m(y))),f.draw()}}).each("end",function(){f.emit("programmatic-zoom")})},u.prototype.getFontSize=function(){return Math.max(Math.max(e,r)/50,8)},u.prototype.draw=function(){var s=this;s.emit("before:draw"),s.syncOptions(),s.updateAxes(),s.buildContent(),s.emit("after:draw")},u.prototype.setUpEventListeners=function(){var s=this,v={mousemove:function(p){s.tip.move(p)},mouseover:function(){s.tip.show()},mouseout:function(){s.tip.hide()},zoom:function(p,m){o.translate(p).scale(m)},"tip:update":function(p,m,y){var d=s.root.datum().data[y],N=d.title||"",x=d.renderer||function($,S){return $.toFixed(3)+", "+S.toFixed(3)},I=[];N&&I.push(N),I.push(x(p,m)),s.root.select(".top-right-legend").attr("fill",nt.COLORS[y]).text(I.join(" "))}},f={mousemove:function(){var p=A.mouse(s.root.select("rect.zoom-and-drag").node()),m={x:i.invert(p[0]),y:a.invert(p[1])};s.linkedGraphs.forEach(function(y){y.emit("before:mousemove",m),y.emit("mousemove",m)})},zoom:function(p,m){s.linkedGraphs.forEach(function(y,d){y.emit("zoom",p,m),y.draw()}),s.emit("all:mousemove")}};Object.keys(v).forEach(function(p){s.on(p,v[p]),!f[p]&&s.on("all:"+p,function(){var m=Array.prototype.slice.call(arguments);s.linkedGraphs.forEach(function(y){var d=m.slice();d.unshift(p),y.emit.apply(y,d)})})}),Object.keys(f).forEach(function(p){s.on("all:"+p,f[p])})};var h=er[t.id];return h||(h=new u),h.build()};nt=wn=G.exports.globals=ut;bn=gn=G.exports.graphTypes=La();var za=G.exports.plugins=Ca(),Ga=G.exports.eval=_,xn=G.exports;const Xa=nr(xn),Wa=En({__proto__:null,default:Xa,eval:Ga,get globals(){return wn},get graphTypes(){return gn},plugins:za},[xn]);export{Wa as i};
//# sourceMappingURL=index.CBt_HIk2.js.map
