import{_ as a,c as e,a5 as i,o as t}from"./chunks/framework.CHhwEXkI.js";const k=JSON.parse('{"title":"Docker","description":"","frontmatter":{"title":"Docker","date":"2024-02-22T00:00:00.000Z","status":"DONE","tags":["Docker","NOTE"],"author":["AllenYGY"],"created":"2024-02-22T11:12","updated":"2024-03-21T22:57","publish":true},"headers":[],"relativePath":"posts/Tools/Docker/Docker.md","filePath":"posts/Tools/Docker/Docker.md","lastUpdated":null}'),n={name:"posts/Tools/Docker/Docker.md"};function l(o,s,p,c,d,r){return t(),e("div",null,s[0]||(s[0]=[i(`<h1 id="docker" tabindex="-1">Docker <a class="header-anchor" href="#docker" aria-label="Permalink to &quot;Docker&quot;">​</a></h1><h2 id="basic-concept" tabindex="-1">Basic Concept <a class="header-anchor" href="#basic-concept" aria-label="Permalink to &quot;Basic Concept&quot;">​</a></h2><ul><li><strong>镜像</strong>: <em>Image</em> 定义了容器如何构建</li><li><strong>容器</strong>: <em>Container</em> 容器是独立运行的一个或一组应用，是镜像运行时的实体</li><li><strong>Dockerfile</strong>: 构建镜像需要的各种指令</li></ul><div class="info custom-block github-alert"><p class="custom-block-title">镜像（Image）和容器（Container）的关系，就像是面向对象程序设计中的类和实例一样，镜像是静态的定义，容器是镜像运行时的实体。容器可以被创建、启动、停止、删除、暂停等。</p><p></p></div><h2 id="client-server-architecture" tabindex="-1">Client Server Architecture <a class="header-anchor" href="#client-server-architecture" aria-label="Permalink to &quot;Client Server Architecture&quot;">​</a></h2><p><img src="https://cdn.jsdelivr.net/gh/ALLENYGY/ImageSpace@master/IMAGE/Docker/framework.png" alt="framework"></p><h2 id="containerization-容器化-and-dockerfile" tabindex="-1">Containerization <strong>容器化</strong> and Dockerfile <a class="header-anchor" href="#containerization-容器化-and-dockerfile" aria-label="Permalink to &quot;Containerization **容器化** and Dockerfile&quot;">​</a></h2><ol><li>创建Dockerfile</li><li>使用Dockerfile构建Image</li><li>使用Image创建和运行容器</li></ol><h3 id="dockerfile" tabindex="-1">DockerFile <a class="header-anchor" href="#dockerfile" aria-label="Permalink to &quot;DockerFile&quot;">​</a></h3><ol><li>Install Operating System</li><li>Install Operating Environment</li><li>Copy app, dependency, configuration files</li><li>Execute start command run the app</li></ol><h2 id="docker-command" tabindex="-1">Docker Command <a class="header-anchor" href="#docker-command" aria-label="Permalink to &quot;Docker Command&quot;">​</a></h2><p><img src="https://cdn.jsdelivr.net/gh/ALLENYGY/ImageSpace@master/IMAGE/Docker/Docker.png" alt="MindMap"></p><h3 id="management" tabindex="-1">Management <a class="header-anchor" href="#management" aria-label="Permalink to &quot;Management&quot;">​</a></h3><ul><li>Image</li><li>Network</li><li>Container</li><li>Volume</li><li>Plugin</li></ul><h4 id="image-management" tabindex="-1">Image Management <a class="header-anchor" href="#image-management" aria-label="Permalink to &quot;Image Management&quot;">​</a></h4><ul><li><strong>查看镜像</strong> (List images)</li></ul><div class="language-docker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker image ls</span></span></code></pre></div><ul><li><strong>检索镜像</strong> (Search for images)</li></ul><div class="language-docker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker search [image]</span></span></code></pre></div><div class="note custom-block github-alert"><p class="custom-block-title">+ **Example**</p><p></p><div class="language-docker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"></span></code></pre></div></div><p>docker search nginx</p><ul><li><strong>拉取镜像</strong> (Pull an image)</li></ul><div class="language-docker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker pull[image]</span></span></code></pre></div><ul><li><strong>上传镜像</strong> (Push an image)</li></ul><div class="language-docker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker push[image]</span></span></code></pre></div><div class="note custom-block github-alert"><p class="custom-block-title">+ **Example**</p><p></p><div class="language-docker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"></span></code></pre></div></div><p>docker push geekhour/hello-docker:latest</p><ul><li><strong>保存镜像</strong> (Save image)</li></ul><div class="language-docker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker save [image] -o FILE </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker save [image] &gt; FILE</span></span></code></pre></div><div class="note custom-block github-alert"><p class="custom-block-title">+ **Example**</p><p></p><div class="language-docker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker save geekhour/hello-docker:latest</span></span></code></pre></div></div><ul><li><strong>导入镜像</strong> (Load an image)</li></ul><div class="language-docker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker load -i FILE</span></span></code></pre></div><div class="note custom-block github-alert"><p class="custom-block-title">+ **Example**</p><p></p><div class="language-docker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"></span></code></pre></div></div><p>docker load -i hello-docker.tar</p><ul><li><strong>查看镜像历史</strong> (View image history)</li></ul><div class="language-docker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker history[image]</span></span></code></pre></div><ul><li><strong>删除镜像</strong> (Remove an image)</li></ul><div class="language-docker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker rmi [image]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker image rm [image]</span></span></code></pre></div><ul><li><strong>删除不再使⽤的镜像</strong> (Delete a image that is no longer used)</li></ul><div class="language-docker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker image prune</span></span></code></pre></div><ul><li><strong>将⽂件系统导⼊为镜像</strong> (Guide the component system as a image)</li></ul><div class="language-docker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker import [URL/FILE]</span></span></code></pre></div><ul><li><strong>从容器创建镜像</strong> (Create an image from a container)</li></ul><div class="language-docker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker commit [container][image]</span></span></code></pre></div><h4 id="container-management" tabindex="-1">Container Management <a class="header-anchor" href="#container-management" aria-label="Permalink to &quot;Container Management&quot;">​</a></h4><ul><li><strong>创建容器</strong> (Create a container)</li></ul><div class="language-docker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker create [image]</span></span></code></pre></div><ul><li><strong>创建并运行容器</strong> (Create and run a container)</li></ul><div class="language-docker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker run [image]</span></span></code></pre></div><ul><li><strong>启动容器</strong> (Start a container)</li></ul><div class="language-docker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker start [container]</span></span></code></pre></div><ul><li><strong>停止容器</strong> (Stop a container)</li></ul><div class="language-docker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker stop [container]</span></span></code></pre></div><ul><li><strong>重启容器</strong> (Restart a container)</li></ul><div class="language-docker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker restart [container]</span></span></code></pre></div><ul><li><strong>列出正在运行的容器</strong> (List running containers)</li></ul><div class="language-docker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker ps</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker container ls</span></span></code></pre></div><ul><li><strong>列出所有容器</strong> (List all containers)</li></ul><div class="language-docker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker ps -a</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker container ls -a</span></span></code></pre></div><ul><li><strong>以交互模式进入容器</strong> (Enter a container in interactive mode)</li></ul><div class="language-docker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker exec -it [container] bash</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker attach [container]</span></span></code></pre></div><ul><li><strong>导出容器</strong> (Export a container)</li></ul><div class="language-docker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker export [container] -o FILE</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker export [container] &gt; FILE</span></span></code></pre></div><ul><li><strong>导入容器快照</strong> (Import a container image)</li></ul><div class="language-docker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker import FILE</span></span></code></pre></div><ul><li><strong>查看容器日志</strong> (View container logs)</li></ul><div class="language-docker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker logs [container]</span></span></code></pre></div><ul><li><strong>删除容器</strong> (Remove a container)</li></ul><div class="language-docker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker rm [container]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker container rm [container]</span></span></code></pre></div><ul><li><strong>查看容器端口映射</strong> (View container port mappings)</li></ul><div class="language-docker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker port [container]</span></span></code></pre></div><ul><li><strong>显示容器内进程</strong> (Show processes inside a container)</li></ul><div class="language-docker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker top [container]</span></span></code></pre></div><ul><li><strong>复制本地文件至容器内的指定路径</strong> (Copy local files to a specified path inside a container)</li></ul><div class="language-docker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker cp [FILE] [container]:[PATH]</span></span></code></pre></div><ul><li><strong>显示容器的变化</strong> (Show changes in a container)</li></ul><div class="language-docker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker diff [container]</span></span></code></pre></div><ul><li><strong>显示容器资源使用情况</strong> (Show container resource usage)</li></ul><div class="language-docker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker stats [container]</span></span></code></pre></div><h4 id="volume-management" tabindex="-1">Volume Management <a class="header-anchor" href="#volume-management" aria-label="Permalink to &quot;Volume Management&quot;">​</a></h4><ul><li><strong>创建一个数据卷</strong> (Create a volume)</li></ul><div class="language-docker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker volume create [volume]</span></span></code></pre></div><ul><li><strong>查看数据卷</strong> (List volumes)</li></ul><div class="language-docker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker volume ls</span></span></code></pre></div><ul><li><strong>查看数据卷详细信息</strong> (Inspect a volume)</li></ul><div class="language-docker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker volume inspect [volume]</span></span></code></pre></div><ul><li><strong>删除数据卷</strong> (Remove a volume)</li></ul><div class="language-docker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker volume rm [volume]</span></span></code></pre></div><ul><li><strong>删除所有未使用的数据卷</strong> (Remove all unused volumes)</li></ul><div class="language-docker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker volume prune</span></span></code></pre></div><h4 id="network-management" tabindex="-1">Network Management <a class="header-anchor" href="#network-management" aria-label="Permalink to &quot;Network Management&quot;">​</a></h4><ul><li><strong>列出可用网络</strong> (List networks)</li></ul><div class="language-docker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker network ls</span></span></code></pre></div><ul><li><strong>查看网络详细信息</strong> (Inspect network)</li></ul><div class="language-docker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker network inspect [network]</span></span></code></pre></div><ul><li><strong>创建一个新的网络</strong> (Create a new network)</li></ul><div class="language-docker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker network create [network]</span></span></code></pre></div><ul><li><strong>删除一个网络</strong> (Remove a network)</li></ul><div class="language-docker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker network rm [network]</span></span></code></pre></div><ul><li><strong>将容器连接到网络</strong> (Connect a container to a network)</li></ul><div class="language-docker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker network connect [network] [container]</span></span></code></pre></div><ul><li><strong>将容器从网络断开</strong> (Disconnect a container from a network)</li></ul><div class="language-docker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker network disconnect [network] [container]</span></span></code></pre></div><h4 id="plugin-management" tabindex="-1">Plugin Management <a class="header-anchor" href="#plugin-management" aria-label="Permalink to &quot;Plugin Management&quot;">​</a></h4><ul><li><strong>列出插件</strong> (List plugins)</li></ul><div class="language-docker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker plugin ls</span></span></code></pre></div><ul><li><strong>安装插件</strong> (Install plugin)</li></ul><div class="language-docker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker plugin install [plugin]</span></span></code></pre></div><ul><li><strong>启用插件</strong> (Enable plugin)</li></ul><div class="language-docker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker plugin enable [plugin]</span></span></code></pre></div><ul><li><strong>禁用插件</strong> (Disable plugin)</li></ul><div class="language-docker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker plugin disable [plugin]</span></span></code></pre></div><ul><li><strong>卸载插件</strong> (Remove plugin)</li></ul><div class="language-docker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker plugin rm [plugin]</span></span></code></pre></div><h3 id="run-container" tabindex="-1">Run Container <a class="header-anchor" href="#run-container" aria-label="Permalink to &quot;Run Container&quot;">​</a></h3><div class="language-docker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker run [options] image [command][arg...]</span></span></code></pre></div><ul><li>创建一个容器，并指定容器名称、后台运行、端口映射、环境变量、和工作目录</li></ul><div class="language-docker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker run -d -p[hostPost]:[containerPort] -e [key=value] -w[PATH] --name[name][image]</span></span></code></pre></div><ul><li>创建 运行并命名容器</li></ul><div class="language-docker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker run --name[name][image]</span></span></code></pre></div><ul><li>创建一个容器并后台运行</li></ul><div class="language-docker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker run -d[image]</span></span></code></pre></div><ul><li>创建一个容器并指定端口映射</li></ul><div class="language-docker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker run -p[hostPort]:[containerPort][image]</span></span></code></pre></div><ul><li>创建一个容器并指定端口映射 <strong>随机分配</strong></li></ul><div class="language-docker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker run -P[image]</span></span></code></pre></div><ul><li>创建一个容器并指定环境变量</li></ul><div class="language-docker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker run -e[key=value][image]</span></span></code></pre></div><ul><li>创建一个容器并指定工作目录</li></ul><div class="language-docker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker run -w[PATH][image]</span></span></code></pre></div><ul><li>创建一个容器并在容器中执行命令</li></ul><div class="language-docker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker run [image][command]</span></span></code></pre></div><div class="note custom-block github-alert"><p class="custom-block-title">+ **Example**</p><p></p><div class="language-docker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"></span></code></pre></div></div><p>docker run -it nginx:latest /bin/bash</p><p><strong>使用镜像nginx：latest 来启动一个容器，并在容器内执行交互式 bash shell</strong></p><blockquote><div class="language-docker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"></span></code></pre></div></blockquote><p>docker run -it -p 3316:3306 -v /data:/data -d mysql:latest</p><p><strong>创建⼀个 mysql 容器，后台模式启动，主机 3316 端⼝ 映射到容器 3306 端⼝，主机 /data ⽬录映射到容器 /data ⽬录</strong></p><h3 id="daily-operation" tabindex="-1">Daily Operation <a class="header-anchor" href="#daily-operation" aria-label="Permalink to &quot;Daily Operation&quot;">​</a></h3><ol><li>查看Docker <strong>系统信息</strong></li></ol><div class="language-docker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker info</span></span></code></pre></div><ol start="2"><li>查看Docker <strong>版本</strong></li></ol><div class="language-docker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker version</span></span></code></pre></div><ol start="3"><li>查看Docker <strong>帮助文档</strong></li></ol><div class="language-docker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker--help</span></span></code></pre></div><ol start="4"><li>查看Docker <strong>命令帮助文档</strong></li></ol><div class="language-docker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker[command]--help</span></span></code></pre></div><ol start="5"><li><strong>登录/退出</strong> DockerHub</li></ol><div class="language-docker vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">docker</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker login/logout</span></span></code></pre></div><h2 id="dockerfile-1" tabindex="-1">Dockerfile <a class="header-anchor" href="#dockerfile-1" aria-label="Permalink to &quot;Dockerfile&quot;">​</a></h2><div class="language-Dockerfile vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">Dockerfile</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 基础镜像设置</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [base_image]</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 指定基础镜像，必须为Dockerfile的第一条指令；</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 文件添加指令</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ADD</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &lt;src&gt;... &lt;dest&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 用于将文件复制到镜像中，源可以是URL或者本地文件，也可以是一个压缩文件（自动解压）</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 文件复制指令</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">COPY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [--chown=&lt;user&gt;:&lt;group&gt;] &lt;src&gt;... &lt;dest&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 用于将文件复制到镜像中，源只能是本地文件</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 工作目录指令</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">WORKDIR</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /path/to/workdir</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 用于指定工作目录，可以使用多个WORKDIR指令，如果使用相对路径，则是相对于上一条WORKDIR指令的路径</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 环境变量指令</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ENV</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &lt;key&gt; &lt;value&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ENV</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &lt;key1&gt;=&lt;value1&gt; &lt;key2&gt;=&lt;value2&gt;...</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 用于设置环境变量</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 执行命令指令</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">CMD</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;executable&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;param1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;param2&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">CMD</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> command param1 param2</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 用于指定默认的容器主进程，每个Dockerfile中只能有一条CMD指令，如果有多条，则只有最后一条会生效</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 卷挂载指令</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">VOLUME</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/path/to/volume&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">VOLUME</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/path1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/path2&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">...]</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 用于定义匿名卷，持久化数据</span></span></code></pre></div>`,151)]))}const g=a(n,[["render",l]]);export{k as __pageData,g as default};
